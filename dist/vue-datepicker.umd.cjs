(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function Je(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Je.compatConfig={MODE:3};function ln(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ln.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}St.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Bt.compatConfig={MODE:3};function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Ct.compatConfig={MODE:3};function Tt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Tt.compatConfig={MODE:3};const Re=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),$t=(t,n,o)=>{const a=At(t,n,o);return a||H()},In=(t,n,o)=>{const a=n.dateInTz?Re(new Date(t),n.dateInTz):H(t);return o?Pe(a,!0):a},At=(t,n,o)=>{if(!t)return null;const a=o?Pe(H(t),!0):H(t);return n?n.exactMatch?In(t,n,o):Re(a,n.timezone):a},zn=(t,n)=>{if(!t)return 0;const o=new Date,a=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(o.toLocaleString("en-US",{timeZone:t})),d=(n??r).getTimezoneOffset()/60;return(+a-+r)/(1e3*60*60)-d};var Oe=(t=>(t.month="month",t.year="year",t))(Oe||{}),Ye=(t=>(t.top="top",t.bottom="bottom",t))(Ye||{}),Ge=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ge||{}),Ce=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ce||{});const Ln=["timestamp","date","iso"];var $e=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))($e||{}),ye=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(ye||{});function on(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Hn(t){return n=>s.format(Re(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const Un=(t,n,o)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(Hn(t))}catch{r=a.map(on(n))}else r=a.map(on(n));const d=r.slice(0,o),m=r.slice(o+1,r.length);return[r[o]].concat(...m).concat(...d)},Pt=(t,n,o)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:mn(r,n)});return o?a.reverse():a},sn=(t,n,o)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const m=d<10?`0${d}`:d;return new Date(`2017-${m}-01T00:00:00+00:00`)});if(t!==null)try{const d=o==="long"?"LLLL":"LLL";return a.map((m,h)=>{const O=s.format(Re(m,"UTC"),d,{locale:t});return{text:O.charAt(0).toUpperCase()+O.substring(1),value:h}})}catch{}const r=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return a.map((d,m)=>{const h=r.format(d);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:m}})},Wn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],De=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},jn=t=>({type:"dot",...t??{}}),un=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Rt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Me=t=>t,cn=t=>t===0?t:!t||isNaN(+t)?null:+t,dn=t=>t===null,fn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Kn=t=>{const n=[],o=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(o(r))}return n},nt=(t,n,o)=>{const a=o!=null,r=n!=null;if(!a&&!r)return!1;const d=+o,m=+n;return a&&r?+t>d||+t<m:a?+t>d:r?+t<m:!1},Ze=(t,n)=>Kn(t).map(o=>o.map(a=>{const{active:r,disabled:d,isBetween:m,highlighted:h}=n(a);return{...a,active:r,disabled:d,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:d,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:d&&r,dp__cell_in_between:m,"dp--highlighted":h}}})),Ue=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},xn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function qn(t,n){let o=[...document.querySelectorAll(xn())];o=o.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=o.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=o.length))return o[a+(n?-1:1)]}const Nt=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),mn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Et=t=>s.format(t,"dd-MM-yyyy"),Ot=t=>Array.isArray(t),dt=(t,n)=>n.get(Et(t)),Gn=(t,n)=>t?n?n instanceof Map?!!dt(t,n):n(H(t)):!1:!0,Ae=(t,n,o=!1,a)=>{if(t.key===ye.enter||t.key===ye.space)return o&&t.preventDefault(),n();if(a)return a(t)},pn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,gn=(t,n,o,a,r,d)=>{const m=s.parse(t,n.slice(0,t.length),new Date,{locale:d});return s.isValid(m)&&s.isDate(m)?a||r?m:s.set(m,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},Qn=(t,n,o,a,r,d)=>{const m=Array.isArray(o)?o[0]:o;if(typeof n=="string")return gn(t,n,m,a,r,d);if(Array.isArray(n)){let h=null;for(const O of n)if(h=gn(t,O,m,a,r,d),h)break;return h}return typeof n=="function"?n(t):null},H=t=>t?new Date(t):new Date,Xn=(t,n,o)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),d=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0"),O=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${d}T${m}:${h}:${O}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Pe=(t,n)=>{const o=H(JSON.parse(JSON.stringify(t))),a=s.set(o,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?s.startOfMonth(a):a},We=(t,n,o,a)=>{let r=t?H(t):H();return(n||n===0)&&(r=s.setHours(r,+n)),(o||o===0)&&(r=s.setMinutes(r,+o)),(a||a===0)&&(r=s.setSeconds(r,+a)),s.setMilliseconds(r,0)},be=(t,n)=>!t||!n?!1:s.isBefore(Pe(t),Pe(n)),me=(t,n)=>!t||!n?!1:s.isEqual(Pe(t),Pe(n)),ve=(t,n)=>!t||!n?!1:s.isAfter(Pe(t),Pe(n)),ft=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?ve(o,t[0])&&be(o,t[1]):t!=null&&t[0]&&n?ve(o,t[0])&&be(o,n)||be(o,t[0])&&ve(o,n):!1,Ve=t=>{const n=s.set(new Date(t),{date:1});return Pe(n)},Yt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,o]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Qe=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),yn=(t,n)=>{if(n){const o=s.getYear(H(n));if(o>t)return 12;if(o===t)return s.getMonth(H(n))}},hn=(t,n)=>{if(n){const o=s.getYear(H(n));return o<t?-1:o===t?s.getMonth(H(n)):void 0}},Fe=t=>{if(t)return s.getYear(H(t))},kn=(t,n)=>{const o=ve(t,n)?n:t,a=ve(n,t)?n:t;return s.eachDayOfInterval({start:o,end:a})},Jn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},ze=(t,n)=>{const o=s.startOfWeek(t,{weekStartsOn:+n}),a=s.endOfWeek(t,{weekStartsOn:+n});return[o,a]},bn=(t,n)=>{const o={hours:s.getHours(H()),minutes:s.getMinutes(H()),seconds:n?s.getSeconds(H()):0};return Object.assign(o,t)},je=(t,n,o)=>[s.set(H(t),{date:1}),s.set(H(),{month:n,year:o,date:1})],Le=(t,n,o)=>{let a=t?H(t):H();return(n||n===0)&&(a=s.setMonth(a,n)),o&&(a=s.setYear(a,o)),a},vn=(t,n,o,a,r)=>{if(!a||r&&!n||!r&&!o)return!1;const d=r?s.addMonths(t,1):s.subMonths(t,1),m=[s.getMonth(d),s.getYear(d)];return r?!Fn(...m,n):!Zn(...m,o)},Zn=(t,n,o)=>be(...je(o,t,n))||me(...je(o,t,n)),Fn=(t,n,o)=>ve(...je(o,t,n))||me(...je(o,t,n)),wn=(t,n,o,a,r,d,m)=>{if(typeof n=="function"&&!m)return n(t);const h=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],d,h)}${r&&!t[1]?"":a}${t[1]?s.format(t[1],d,h):""}`:s.format(t,d,h)},et=t=>{if(t)return null;throw new Error(Rt.prop("partial-range"))},mt=(t,n)=>{if(n)return t();throw new Error(Rt.prop("range"))},Vt=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,ea=(t,n)=>s.set(n??H(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),_t=(t,n,o,a)=>{if(!t)return!0;if(a){const r=o==="max"?s.isBefore(t,n):s.isAfter(t,n),d={seconds:0,milliseconds:0};return r||s.isEqual(s.set(t,d),s.set(n,d))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},It=(t,n,o)=>t?ea(t,n):H(o??n),Mn=(t,n,o,a,r)=>{if(Array.isArray(a)){const m=It(t,a[0],n),h=It(t,a[1],n);return _t(a[0],m,o,!!n)&&_t(a[1],h,o,!!n)&&r}const d=It(t,a,n);return _t(a,d,o,!!n)&&r},zt=t=>s.set(H(),Qe(t)),ta=(t,n)=>t instanceof Map?Array.from(t.values()).filter(o=>s.getYear(H(o))===n).map(o=>s.getMonth(o)):[],na=(t,n,o)=>{if(t instanceof Map){const a=Array.from(t.values()).filter(r=>s.getYear(H(r))===n).map(r=>s.getMonth(r));return a.length?a.includes(o):!0}return!0},Dn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(a=>a.month===n&&a.year===o),Lt=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Sn=t=>s.format(t,"yyyy-MM-dd"),at=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Bn=()=>{const t=a=>{at.menuFocused=a},n=a=>{at.shiftKeyInMenu!==a&&(at.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:at.shiftKeyInMenu,menuFocused:at.menuFocused})),setMenuFocused:t,setShiftKey:n}},he=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ht=e.ref(null),pt=e.ref(!1),Ut=e.ref(!1),Wt=e.ref(!1),jt=e.ref(!1),Te=e.ref(0),we=e.ref(0),Ke=()=>{const t=e.computed(()=>pt.value?[...he.selectionGrid,he.actionRow].filter(f=>f.length):Ut.value?[...he.timePicker[0],...he.timePicker[1],jt.value?[]:[Ht.value],he.actionRow].filter(f=>f.length):Wt.value?[...he.monthPicker,he.actionRow]:[he.monthYear,...he.calendar,he.time,he.actionRow].filter(f=>f.length)),n=f=>{Te.value=f?Te.value+1:Te.value-1;let V=null;t.value[we.value]&&(V=t.value[we.value][Te.value]),!V&&t.value[we.value+(f?1:-1)]?(we.value=we.value+(f?1:-1),Te.value=f?0:t.value[we.value].length-1):V||(Te.value=f?Te.value-1:Te.value+1)},o=f=>{if(we.value===0&&!f||we.value===t.value.length&&f)return;we.value=f?we.value+1:we.value-1,t.value[we.value]?t.value[we.value]&&!t.value[we.value][Te.value]&&Te.value!==0&&(Te.value=t.value[we.value].length-1):we.value=f?we.value-1:we.value+1},a=f=>{let V=null;t.value[we.value]&&(V=t.value[we.value][Te.value]),V?V.focus({preventScroll:!pt.value}):Te.value=f?Te.value-1:Te.value+1},r=()=>{n(!0),a(!0)},d=()=>{n(!1),a(!1)},m=()=>{o(!1),a(!0)},h=()=>{o(!0),a(!0)},O=(f,V)=>{he[V]=f},k=(f,V)=>{he[V]=f},g=()=>{Te.value=0,we.value=0};return{buildMatrix:O,buildMultiLevelMatrix:k,setTimePickerBackRef:f=>{Ht.value=f},setSelectionGrid:f=>{pt.value=f,g(),f||(he.selectionGrid=[])},setTimePicker:(f,V=!1)=>{Ut.value=f,jt.value=V,g(),f||(he.timePicker[0]=[],he.timePicker[1]=[])},setTimePickerElements:(f,V=0)=>{he.timePicker[V]=f},arrowRight:r,arrowLeft:d,arrowUp:m,arrowDown:h,clearArrowNav:()=>{he.monthYear=[],he.calendar=[],he.time=[],he.actionRow=[],he.selectionGrid=[],he.timePicker[0]=[],he.timePicker[1]=[],pt.value=!1,Ut.value=!1,jt.value=!1,Wt.value=!1,g(),Ht.value=null},setMonthPicker:f=>{Wt.value=f,g()},refSets:he}},Cn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),aa=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Tn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ra=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:Tn(!1)};const a=n?t:{},r=n?a.count??!0:t,d=Tn(r);return Object.assign(o,a,{count:d})},la=(t,n,o)=>t||(typeof o=="string"?o:n),oa=t=>typeof t=="boolean"?t?Cn({}):!1:Cn(t),sa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ia=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),ua=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),ca=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},da=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1},...t??{}}),fa=t=>{const n={dates:Array.isArray(t)?t.map(o=>H(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ma=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},pa=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},ga=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Kt=(t,n,o)=>new Map(t.map(a=>{const r=$t(a,n,o);return[Et(r),r]})),ya=(t,n)=>t.length?new Map(t.map(o=>{const a=$t(o.date,n);return[Et(a),o]})):null,ha=t=>{var n;return{minDate:At(t.minDate,t.timezone,t.isSpecific),maxDate:At(t.maxDate,t.timezone,t.isSpecific),disabledDates:Ot(t.disabledDates)?Kt(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Ot(t.allowedDates)?Kt(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Ot((n=t.highlight)==null?void 0:n.dates)?Kt(t.highlight.dates,t.timezone):t.highlight,markers:ya(t.markers,t.timezone)}},ka=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ba=t=>({...Object.fromEntries(Object.keys(t).map(o=>{const a=o,r=t[a],d=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(m=>[m,!0]));return[o,d]}))}),ke=t=>{const n=()=>{const ne=t.enableSeconds?":ss":"",q=t.enableMinutes?":mm":"";return t.is24?`HH${q}${ne}`:`hh${q}${ne} aa`},o=()=>{var ne;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((ne=W.value)==null?void 0:ne.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=ne=>bn(ne,t.enableSeconds),r=()=>L.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,d=e.computed(()=>ra(t.multiCalendars)),m=e.computed(()=>r()),h=e.computed(()=>aa(t.ariaLabels)),O=e.computed(()=>ia(t.filters)),k=e.computed(()=>oa(t.transitions)),g=e.computed(()=>ua(t.actionRow)),C=e.computed(()=>la(t.previewFormat,t.format,o())),B=e.computed(()=>sa(t.textInput)),M=e.computed(()=>ca(t.inline)),J=e.computed(()=>da(t.config)),P=e.computed(()=>fa(t.highlight)),W=e.computed(()=>ma(t.weekNumbers)),f=e.computed(()=>ga(t.timezone)),V=e.computed(()=>ka(t.multiDates)),R=e.computed(()=>ha({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:P.value,markers:t.markers,timezone:f.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),L=e.computed(()=>pa(t.range)),K=e.computed(()=>ba(t.ui));return{defaultedTransitions:k,defaultedMultiCalendars:d,defaultedStartTime:m,defaultedAriaLabels:h,defaultedFilters:O,defaultedActionRow:g,defaultedPreviewFormat:C,defaultedTextInput:B,defaultedInline:M,defaultedConfig:J,defaultedHighlight:P,defaultedWeekNumbers:W,defaultedRange:L,propDates:R,defaultedTz:f,defaultedMultiDates:V,defaultedUI:K,getDefaultPattern:o,getDefaultStartTime:r}},va=(t,n,o)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:d,defaultedTz:m,defaultedMultiDates:h,getDefaultPattern:O}=ke(n),k=e.ref(""),g=e.toRef(n,"format"),C=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,w(!0))},{deep:!0}),e.watch(d,(c,Z)=>{c.enabled!==Z.enabled&&(a.value=null)}),e.watch(g,()=>{j()});const B=c=>m.value.timezone&&m.value.convertModel?Re(c,m.value.timezone):c,M=c=>{if(m.value.timezone&&m.value.convertModel){const Z=zn(m.value.timezone,c);return s.addHours(c,Z)}return c},J=(c,Z,ie=!1)=>wn(c,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,Z??O(),ie),P=c=>c?n.modelType?b(c):{hours:s.getHours(c),minutes:s.getMinutes(c),seconds:n.enableSeconds?s.getSeconds(c):0}:null,W=c=>n.modelType?b(c):{month:s.getMonth(c),year:s.getYear(c)},f=c=>Array.isArray(c)?h.value.enabled?c.map(Z=>V(Z,s.setYear(H(),Z))):mt(()=>[s.setYear(H(),c[0]),c[1]?s.setYear(H(),c[1]):et(d.value.partialRange)],d.value.enabled):s.setYear(H(),+c),V=(c,Z)=>(typeof c=="string"||typeof c=="number")&&n.modelType?T(c):Z,R=c=>Array.isArray(c)?[V(c[0],We(null,+c[0].hours,+c[0].minutes,c[0].seconds)),V(c[1],We(null,+c[1].hours,+c[1].minutes,c[1].seconds))]:V(c,We(null,c.hours,c.minutes,c.seconds)),L=c=>{const Z=s.set(H(),{date:1});return Array.isArray(c)?h.value.enabled?c.map(ie=>V(ie,Le(Z,+ie.month,+ie.year))):mt(()=>[V(c[0],Le(Z,+c[0].month,+c[0].year)),V(c[1],c[1]?Le(Z,+c[1].month,+c[1].year):et(d.value.partialRange))],d.value.enabled):V(c,Le(Z,+c.month,+c.year))},K=c=>{if(Array.isArray(c))return c.map(Z=>T(Z));throw new Error(Rt.dateArr("multi-dates"))},ne=c=>{if(Array.isArray(c)&&d.value.enabled){const Z=c[0],ie=c[1];return[H(Array.isArray(Z)?Z[0]:null),Array.isArray(ie)&&ie.length?H(ie[0]):null]}return H(c[0])},q=c=>n.modelAuto?Array.isArray(c)?[T(c[0]),T(c[1])]:n.autoApply?[T(c)]:[T(c),null]:Array.isArray(c)?mt(()=>c[1]?[T(c[0]),c[1]?T(c[1]):et(d.value.partialRange)]:[T(c[0])],d.value.enabled):T(c),A=()=>{Array.isArray(a.value)&&d.value.enabled&&a.value.length===1&&a.value.push(et(d.value.partialRange))},X=()=>{const c=a.value;return[b(c[0]),c[1]?b(c[1]):et(d.value.partialRange)]},N=()=>a.value[1]?X():b(Me(a.value[0])),x=()=>(a.value||[]).map(c=>b(c)),le=(c=!1)=>(c||A(),n.modelAuto?N():h.value.enabled?x():Array.isArray(a.value)?mt(()=>X(),d.value.enabled):b(Me(a.value))),se=c=>!c||Array.isArray(c)&&!c.length?null:n.timePicker?R(Me(c)):n.monthPicker?L(Me(c)):n.yearPicker?f(Me(c)):h.value.enabled?K(Me(c)):n.weekPicker?ne(Me(c)):q(Me(c)),y=c=>{const Z=se(c);Vt(Me(Z))?(a.value=Me(Z),j()):(a.value=null,k.value="")},Y=()=>{const c=Z=>s.format(Z,r.value.format);return`${c(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?c(a.value[1]):""}`},te=()=>o.value&&a.value?Array.isArray(a.value)?Y():s.format(a.value,r.value.format):J(a.value),p=()=>a.value?h.value.enabled?a.value.map(c=>J(c)).join("; "):r.value.enabled&&typeof r.value.format=="string"?te():J(a.value):"",j=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?k.value=p():k.value=n.format(a.value)},T=c=>{if(n.utc){const Z=new Date(c);return n.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return n.modelType?Ln.includes(n.modelType)?B(new Date(c)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?B(s.parse(c,O(),new Date,{locale:C.value})):B(s.parse(c,n.modelType,new Date,{locale:C.value})):B(new Date(c))},b=c=>c?n.utc?Xn(c,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+M(c):n.modelType==="iso"?M(c).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?J(M(c)):J(M(c),n.modelType,!0):M(c):"",ee=(c,Z=!1,ie=!1)=>{if(ie)return c;if(t("update:model-value",c),m.value.emitTimezone&&Z){const $=Array.isArray(c)?c.map(ce=>Re(Me(ce),m.value.emitTimezone)):Re(Me(c),m.value.emitTimezone);t("update:model-timezone-value",$)}},_=c=>Array.isArray(a.value)?h.value.enabled?a.value.map(Z=>c(Z)):[c(a.value[0]),a.value[1]?c(a.value[1]):et(d.value.partialRange)]:c(Me(a.value)),D=()=>{if(Array.isArray(a.value)){const c=ze(a.value[0],n.weekStart),Z=a.value[1]?ze(a.value[1],n.weekStart):[];return[c.map(ie=>H(ie)),Z.map(ie=>H(ie))]}return ze(a.value,n.weekStart).map(c=>H(c))},Q=(c,Z)=>ee(Me(_(c)),!1,Z),u=c=>{const Z=D();return c?Z:t("update:model-value",D())},w=(c=!1)=>(c||j(),n.monthPicker?Q(W,c):n.timePicker?Q(P,c):n.yearPicker?Q(s.getYear,c):n.weekPicker?u(c):ee(le(c),!0,c));return{inputValue:k,internalModelValue:a,checkBeforeEmit:()=>a.value?d.value.enabled?d.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:y,formatInputValue:j,emitModelValue:w}},wa=(t,n)=>{const{defaultedFilters:o,propDates:a}=ke(t),{validateMonthYearInRange:r}=qe(t),d=(g,C)=>{let B=g;return o.value.months.includes(s.getMonth(B))?(B=C?s.addMonths(g,1):s.subMonths(g,1),d(B,C)):B},m=(g,C)=>{let B=g;return o.value.years.includes(s.getYear(B))?(B=C?s.addYears(g,1):s.subYears(g,1),m(B,C)):B},h=(g,C=!1)=>{const B=s.set(H(),{month:t.month,year:t.year});let M=g?s.addMonths(B,1):s.subMonths(B,1);t.disableYearSelect&&(M=s.setYear(M,t.year));let J=s.getMonth(M),P=s.getYear(M);o.value.months.includes(J)&&(M=d(M,g),J=s.getMonth(M),P=s.getYear(M)),o.value.years.includes(P)&&(M=m(M,g),P=s.getYear(M)),r(J,P,g,t.preventMinMaxNavigation)&&O(J,P,C)},O=(g,C,B)=>{n("update-month-year",{month:g,year:C,fromNav:B})},k=e.computed(()=>g=>vn(s.set(H(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,g));return{handleMonthYearChange:h,isDisabled:k,updateMonthYear:O}},gt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},showMinPrices:{type:Boolean,default:!1},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},_e={...gt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},Ma=["title"],Da=["disabled"],Sa=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},..._e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:d,defaultedMultiCalendars:m,defaultedTextInput:h,defaultedInline:O,defaultedRange:k,defaultedMultiDates:g}=ke(a),{isTimeValid:C,isMonthValid:B}=qe(a),{buildMatrix:M}=Ke(),J=e.ref(null),P=e.ref(null),W=e.ref(!1),f=e.ref({}),V=e.ref(null),R=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&M([De(J),De(P)],"actionRow"),L(),window.addEventListener("resize",L)}),e.onUnmounted(()=>{window.removeEventListener("resize",L)});const L=()=>{W.value=!1,setTimeout(()=>{var te,p;const y=(te=V.value)==null?void 0:te.getBoundingClientRect(),Y=(p=R.value)==null?void 0:p.getBoundingClientRect();y&&Y&&(f.value.maxWidth=`${Y.width-y.width-20}px`),W.value=!0},0)},K=e.computed(()=>k.value.enabled&&!k.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),ne=e.computed(()=>!C.value(a.internalModelValue)||!B.value(a.internalModelValue)||!K.value),q=()=>{const y=d.value;return a.timePicker||a.monthPicker,y(Me(a.internalModelValue))},A=()=>{const y=a.internalModelValue;return m.value.count>0?`${X(y[0])} - ${X(y[1])}`:[X(y[0]),X(y[1])]},X=y=>wn(y,d.value,a.formatLocale,h.value.rangeSeparator,a.modelAuto,d.value),N=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof d.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?A():g.value.enabled?a.internalModelValue.map(y=>`${X(y)}`):a.modelAuto?`${X(a.internalModelValue[0])}`:`${X(a.internalModelValue[0])} -`:X(a.internalModelValue):q()),x=()=>g.value.enabled?"; ":" - ",le=e.computed(()=>Array.isArray(N.value)?N.value.join(x()):N.value),se=()=>{C.value(a.internalModelValue)&&B.value(a.internalModelValue)&&K.value?o("select-date"):o("invalid-select")};return(y,Y)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:R,class:"dp__action_row"},[y.$slots["action-row"]?e.renderSlot(y.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:y.internalModelValue,disabled:ne.value,selectDate:()=>y.$emit("select-date"),closePicker:()=>y.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:le.value,style:e.normalizeStyle(f.value)},[y.$slots["action-preview"]&&W.value?e.renderSlot(y.$slots,"action-preview",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),!y.$slots["action-preview"]&&W.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(le.value),1)],64)):e.createCommentVNode("",!0)],12,Ma)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:V,class:"dp__action_buttons","data-dp-element":"action-row"},[y.$slots["action-buttons"]?e.renderSlot(y.$slots,"action-buttons",{key:0,value:y.internalModelValue}):e.createCommentVNode("",!0),y.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(O).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:J,type:"button",class:"dp__action_button dp__action_cancel",onClick:Y[0]||(Y[0]=te=>y.$emit("close-picker")),onKeydown:Y[1]||(Y[1]=te=>e.unref(Ae)(te,()=>y.$emit("close-picker")))},e.toDisplayString(y.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:Y[2]||(Y[2]=te=>y.$emit("select-now")),onKeydown:Y[3]||(Y[3]=te=>e.unref(Ae)(te,()=>y.$emit("select-now")))},e.toDisplayString(y.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:P,type:"button",class:"dp__action_button dp__action_select",disabled:ne.value,"data-test-id":"select-button",onKeydown:Y[4]||(Y[4]=te=>e.unref(Ae)(te,()=>se())),onClick:se},e.toDisplayString(y.selectText),41,Da)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Ba=["role","aria-label","tabindex"],Ca={class:"dp__selection_grid_header"},Ta=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],$a=["aria-label"],rt=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:d}=Ke(),m=o,h=t,{defaultedAriaLabels:O,defaultedTextInput:k,defaultedConfig:g}=ke(h),{hideNavigationButtons:C}=kt(),B=e.ref(!1),M=e.ref(null),J=e.ref(null),P=e.ref([]),W=e.ref(),f=e.ref(null),V=e.ref(0),R=e.ref(null);e.onBeforeUpdate(()=>{M.value=null}),e.onMounted(()=>{e.nextTick().then(()=>x()),h.noOverlayFocus||K(),L(!0)}),e.onUnmounted(()=>L(!1));const L=_=>{var D;h.arrowNavigation&&((D=h.headerRefs)!=null&&D.length?d(_):a(_))},K=()=>{var D;const _=De(J);_&&(k.value.enabled||(M.value?(D=M.value)==null||D.focus({preventScroll:!0}):_.focus({preventScroll:!0})),B.value=_.clientHeight<_.scrollHeight)},ne=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!h.useRelative,"dp--overlay-relative":h.useRelative})),q=e.computed(()=>h.useRelative?{height:`${h.height}px`,width:"var(--dp-menu-min-width)"}:void 0),A=e.computed(()=>({dp__overlay_col:!0})),X=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:B.value,dp__button_bottom:h.isLast})),N=e.computed(()=>{var _,D;return{dp__overlay_container:!0,dp__container_flex:((_=h.items)==null?void 0:_.length)<=6,dp__container_block:((D=h.items)==null?void 0:D.length)>6}});e.watch(()=>h.items,()=>x(!1),{deep:!0});const x=(_=!0)=>{e.nextTick().then(()=>{const D=De(M),Q=De(J),u=De(f),w=De(R),I=u?u.getBoundingClientRect().height:0;Q&&(Q.getBoundingClientRect().height?V.value=Q.getBoundingClientRect().height-I:V.value=g.value.modeHeight-I),D&&w&&_&&(w.scrollTop=D.offsetTop-w.offsetTop-(V.value/2-D.getBoundingClientRect().height)-I)})},le=_=>{_.disabled||m("selected",_.value)},se=()=>{m("toggle"),m("reset-flow")},y=()=>{h.escClose&&se()},Y=(_,D,Q,u)=>{_&&((D.active||D.value===h.focusValue)&&(M.value=_),h.arrowNavigation&&(Array.isArray(P.value[Q])?P.value[Q][u]=_:P.value[Q]=[_],te()))},te=()=>{var D,Q;const _=(D=h.headerRefs)!=null&&D.length?[h.headerRefs].concat(P.value):P.value.concat([h.skipButtonRef?[]:[f.value]]);r(Me(_),(Q=h.headerRefs)!=null&&Q.length?"monthPicker":"selectionGrid")},p=_=>{h.arrowNavigation||Ue(_,g.value,!0)},j=_=>{W.value=_,m("hover-value",_)},T=()=>{if(se(),!h.isLast){const _=Nt(h.menuWrapRef??null,"action-row");if(_){const D=fn(_);D==null||D.focus()}}},b=_=>{switch(_.key){case ye.esc:return y();case ye.arrowLeft:return p(_);case ye.arrowRight:return p(_);case ye.arrowUp:return p(_);case ye.arrowDown:return p(_);default:return}},ee=_=>{if(_.key===ye.enter)return se();if(_.key===ye.tab)return T()};return n({focusGrid:K}),(_,D)=>{var Q;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:J,class:e.normalizeClass(ne.value),style:e.normalizeStyle(q.value),role:_.useRelative?void 0:"dialog","aria-label":_.overlayLabel,tabindex:_.useRelative?void 0:"0",onKeydown:b,onClick:D[0]||(D[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:R,class:e.normalizeClass(N.value),style:e.normalizeStyle({"--dp-overlay-height":`${V.value}px`}),role:"grid"},[e.createElementVNode("div",Ca,[e.renderSlot(_.$slots,"header")]),_.$slots.overlay?e.renderSlot(_.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(_.items,(u,w)=>(e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:_.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u,(I,c)=>(e.openBlock(),e.createElementBlock("div",{key:I.value,ref_for:!0,ref:Z=>Y(Z,I,w,c),role:"gridcell",class:e.normalizeClass(A.value),"aria-selected":I.active||void 0,"aria-disabled":I.disabled||void 0,tabindex:"0","data-test-id":I.text,onClick:e.withModifiers(Z=>le(I),["prevent"]),onKeydown:Z=>e.unref(Ae)(Z,()=>le(I),!0),onMouseover:Z=>j(I.value)},[e.createElementVNode("div",{class:e.normalizeClass(I.className)},[_.$slots.item?e.renderSlot(_.$slots,"item",{key:0,item:I}):e.createCommentVNode("",!0),_.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(I.text),1)],64))],2)],42,Ta))),128))],2))),128))],6),_.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:f,type:"button","aria-label":(Q=e.unref(O))==null?void 0:Q.toggleOverlay,class:e.normalizeClass(X.value),tabindex:"0",onClick:se,onKeydown:ee},[e.renderSlot(_.$slots,"button-icon")],42,$a)),[[e.vShow,!e.unref(C)(_.hideNavigation,_.type)]]):e.createCommentVNode("",!0)],46,Ba)}}}),Aa=["data-dp-mobile"],yt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse}),"data-dp-mobile":r.isMobile},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(m,h)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:m,index:h})],2))),128))],10,Aa))}}),Pa=["data-dp-element","aria-label","aria-disabled"],lt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,a=e.ref(null);return e.onMounted(()=>o("set-ref",a)),(r,d)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:d[0]||(d[0]=m=>r.$emit("activate")),onKeydown:d[1]||(d[1]=m=>e.unref(Ae)(m,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Pa))}}),Ra=["aria-label","data-test-id"],$n=e.defineComponent({__name:"YearModePicker",props:{..._e,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,a=t,{showRightIcon:r,showLeftIcon:d}=kt(),{defaultedConfig:m,defaultedMultiCalendars:h,defaultedAriaLabels:O,defaultedTransitions:k,defaultedUI:g}=ke(a),{showTransition:C,transitionName:B}=ot(k),M=e.ref(!1),J=(f=!1,V)=>{M.value=!M.value,o("toggle-year-picker",{flow:f,show:V})},P=f=>{M.value=!1,o("year-select",f)},W=(f=!1)=>{o("handle-year",f)};return(f,V)=>{var R,L,K,ne,q;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":M.value}])},[e.unref(d)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(lt,{key:0,ref:"mpPrevIconRef","aria-label":(R=e.unref(O))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((L=e.unref(g))==null?void 0:L.navBtnPrev),onActivate:V[0]||(V[0]=A=>W(!1))},{default:e.withCtx(()=>[f.$slots["arrow-left"]?e.renderSlot(f.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(K=e.unref(O))==null?void 0:K.openYearsOverlay}`,"data-test-id":`year-mode-btn-${t.instance}`,onClick:V[1]||(V[1]=()=>J(!1)),onKeydown:V[2]||(V[2]=e.withKeys(()=>J(!1),["enter"]))},[f.$slots.year?e.renderSlot(f.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),f.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ra),e.unref(r)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(lt,{key:1,ref:"mpNextIconRef","aria-label":(ne=e.unref(O))==null?void 0:ne.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((q=e.unref(g))==null?void 0:q.navBtnNext),onActivate:V[3]||(V[3]=A=>W(!0))},{default:e.withCtx(()=>[f.$slots["arrow-right"]?e.renderSlot(f.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(B)(t.showYearPicker),css:e.unref(C)},{default:e.withCtx(()=>{var A,X;return[t.showYearPicker?(e.openBlock(),e.createBlock(rt,{key:0,items:t.items,"text-input":f.textInput,"esc-close":f.escClose,config:f.config,"is-last":f.autoApply&&!e.unref(m).keepActionRow,"hide-navigation":f.hideNavigation,"aria-labels":f.ariaLabels,"overlay-label":(X=(A=e.unref(O))==null?void 0:A.yearPicker)==null?void 0:X.call(A,!0),type:"year",onToggle:J,onSelected:V[4]||(V[4]=N=>P(N))},e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Je),{key:1}))]),_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:N})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),xt=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>me(t,a))){const a=n.value.filter(r=>!me(r,t));n.value=a.length?a:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},qt=(t,n,o)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(be(n,a[0])?a.unshift(n):a[1]=n,o("range-end",n)):(a=[n],o("range-start",n)),a},ht=(t,n,o,a)=>{t&&(t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&a&&o&&n("auto-apply"))},An=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Re(H(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Re(H(t.value),t.timezone))},Pn=(t,n,o,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ve(t,n.value[0])||me(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(be(t,n.value[1])||me(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],Rn=({multiCalendars:t,range:n,highlight:o,propDates:a,calendars:r,modelValue:d,props:m,filters:h,year:O,month:k,emit:g})=>{const C=e.computed(()=>Pt(m.yearRange,m.locale,m.reverseYears)),B=e.ref([!1]),M=e.computed(()=>(N,x)=>{const le=s.set(Ve(new Date),{month:k.value(N),year:O.value(N)}),se=x?s.endOfYear(le):s.startOfYear(le);return vn(se,a.value.maxDate,a.value.minDate,m.preventMinMaxNavigation,x)}),J=()=>Array.isArray(d.value)&&t.value.solo&&d.value[1],P=()=>{for(let N=0;N<t.value.count;N++)if(N===0)r.value[N]=r.value[0];else if(N===t.value.count-1&&J())r.value[N]={month:s.getMonth(d.value[1]),year:s.getYear(d.value[1])};else{const x=s.set(H(),r.value[N-1]);r.value[N]={month:s.getMonth(x),year:s.getYear(s.addYears(x,1))}}},W=N=>{if(!N)return P();const x=s.set(H(),r.value[N]);return r.value[0].year=s.getYear(s.subYears(x,t.value.count-1)),P()},f=(N,x)=>{const le=s.differenceInYears(x,N);return n.value.showLastInRange&&le>1?x:N},V=N=>m.focusStartDate||t.value.solo?N[0]:N[1]?f(N[0],N[1]):N[0],R=()=>{if(d.value){const N=Array.isArray(d.value)?V(d.value):d.value;r.value[0]={month:s.getMonth(N),year:s.getYear(N)}}},L=()=>{R(),t.value.count&&P()};e.watch(d,(N,x)=>{m.isTextInputDate&&JSON.stringify(N??{})!==JSON.stringify(x??{})&&L()}),e.onMounted(()=>{L()});const K=(N,x)=>{r.value[x].year=N,g("update-month-year",{instance:x,year:N,month:r.value[x].month}),t.value.count&&!t.value.solo&&W(x)},ne=e.computed(()=>N=>Ze(C.value,x=>{var Y;const le=O.value(N)===x.value,se=nt(x.value,Fe(a.value.minDate),Fe(a.value.maxDate))||((Y=h.value.years)==null?void 0:Y.includes(O.value(N))),y=Lt(o.value,x.value);return{active:le,disabled:se,highlighted:y}})),q=(N,x)=>{K(N,x),X(x)},A=(N,x=!1)=>{if(!M.value(N,x)){const le=x?O.value(N)+1:O.value(N)-1;K(le,N)}},X=(N,x=!1,le)=>{x||g("reset-flow"),le!==void 0?B.value[N]=le:B.value[N]=!B.value[N],B.value[N]?g("overlay-toggle",{open:!0,overlay:Ce.year}):(g("overlay-closed"),g("overlay-toggle",{open:!1,overlay:Ce.year}))};return{isDisabled:M,groupedYears:ne,showYearPicker:B,selectYear:K,toggleYearPicker:X,handleYearSelect:q,handleYear:A}},Na=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:d,defaultedRange:m,defaultedHighlight:h,propDates:O,defaultedTz:k,defaultedFilters:g,defaultedMultiDates:C}=ke(t),B=()=>{t.isTextInputDate&&L(s.getYear(H(t.startDate)),0)},{modelValue:M,year:J,month:P,calendars:W}=st(t,n,B),f=e.computed(()=>sn(t.formatLocale,t.locale,t.monthNameFormat)),V=e.ref(null),{checkMinMaxRange:R}=qe(t),{selectYear:L,groupedYears:K,showYearPicker:ne,toggleYearPicker:q,handleYearSelect:A,handleYear:X,isDisabled:N}=Rn({modelValue:M,multiCalendars:o,range:m,highlight:h,calendars:W,year:J,propDates:O,month:P,filters:g,props:t,emit:n});e.onMounted(()=>{t.startDate&&(M.value&&t.focusStartDate||!M.value)&&L(s.getYear(H(t.startDate)),0)});const x=w=>w?{month:s.getMonth(w),year:s.getYear(w)}:{month:null,year:null},le=()=>M.value?Array.isArray(M.value)?M.value.map(w=>x(w)):x(M.value):x(),se=(w,I)=>{const c=W.value[w],Z=le();return Array.isArray(Z)?Z.some(ie=>ie.year===(c==null?void 0:c.year)&&ie.month===I):(c==null?void 0:c.year)===Z.year&&I===Z.month},y=(w,I,c)=>{var ie,$;const Z=le();return Array.isArray(Z)?J.value(I)===((ie=Z[c])==null?void 0:ie.year)&&w===(($=Z[c])==null?void 0:$.month):!1},Y=(w,I)=>{if(m.value.enabled){const c=le();if(Array.isArray(M.value)&&Array.isArray(c)){const Z=y(w,I,0)||y(w,I,1),ie=Le(Ve(H()),w,J.value(I));return ft(M.value,V.value,ie)&&!Z}return!1}return!1},te=e.computed(()=>w=>Ze(f.value,I=>{var ce;const c=se(w,I.value),Z=nt(I.value,yn(J.value(w),O.value.minDate),hn(J.value(w),O.value.maxDate))||ta(O.value.disabledDates,J.value(w)).includes(I.value)||((ce=g.value.months)==null?void 0:ce.includes(I.value))||!na(O.value.allowedDates,J.value(w),I.value),ie=Y(I.value,w),$=Dn(h.value,I.value,J.value(w));return{active:c,disabled:Z,isBetween:ie,highlighted:$}})),p=(w,I)=>Le(Ve(H()),w,J.value(I)),j=(w,I)=>{const c=M.value?M.value:Ve(new Date);M.value=Le(c,w,J.value(I)),n("auto-apply"),n("update-flow-step")},T=(w,I)=>{const c=p(w,I);m.value.fixedEnd||m.value.fixedStart?M.value=Pn(c,M,n,m):M.value?R(c,M.value)&&(M.value=qt(M,p(w,I),n)):M.value=[p(w,I)],e.nextTick().then(()=>{ht(M.value,n,t.autoApply,t.modelAuto)})},b=(w,I)=>{xt(p(w,I),M,C.value.limit),n("auto-apply",!0)},ee=(w,I)=>(W.value[I].month=w,D(I,W.value[I].year,w),C.value.enabled?b(w,I):m.value.enabled?T(w,I):j(w,I)),_=(w,I)=>{L(w,I),D(I,w,null)},D=(w,I,c)=>{let Z=c;if(!Z&&Z!==0){const ie=le();Z=Array.isArray(ie)?ie[w].month:ie.month}n("update-month-year",{instance:w,year:I,month:Z})};return{groupedMonths:te,groupedYears:K,year:J,isDisabled:N,defaultedMultiCalendars:o,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:d,showYearPicker:ne,modelValue:M,presetDate:(w,I)=>{An({value:w,modelValue:M,range:m.value.enabled,timezone:I?void 0:k.value.timezone}),n("auto-apply")},setHoverDate:(w,I)=>{V.value=p(w,I)},selectMonth:ee,selectYear:_,toggleYearPicker:q,handleYearSelect:A,handleYear:X,getModelMonthYear:le}},Ea=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{..._e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-hovering","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=e.useSlots(),d=Ne(r,"yearMode"),m=t;e.onMounted(()=>{m.shadow||a("mount",null)});const{groupedMonths:h,groupedYears:O,year:k,isDisabled:g,defaultedMultiCalendars:C,defaultedConfig:B,showYearPicker:M,modelValue:J,presetDate:P,setHoverDate:W,selectMonth:f,selectYear:V,toggleYearPicker:R,handleYearSelect:L,handleYear:K,getModelMonthYear:ne}=Na(m,a);return n({getSidebarProps:()=>({modelValue:J,year:k,getModelMonthYear:ne,selectMonth:f,selectYear:V,handleYear:K}),presetDate:P,toggleYearPicker:A=>R(0,A)}),(A,X)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":e.unref(C).count,collapse:A.collapse,stretch:"","is-mobile":A.isMobile},{default:e.withCtx(({instance:N})=>[A.$slots["top-extra"]?e.renderSlot(A.$slots,"top-extra",{key:0,value:A.internalModelValue}):e.createCommentVNode("",!0),A.$slots["month-year"]?e.renderSlot(A.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(k),months:e.unref(h)(N),years:e.unref(O)(N),selectMonth:e.unref(f),selectYear:e.unref(V),instance:N}))):(e.openBlock(),e.createBlock(rt,{key:2,items:e.unref(h)(N),"arrow-navigation":A.arrowNavigation,"is-last":A.autoApply&&!e.unref(B).keepActionRow,"esc-close":A.escClose,height:e.unref(B).modeHeight,config:A.config,"no-overlay-focus":!!(A.noOverlayFocus||A.textInput),"use-relative":"",type:"month",onSelected:x=>e.unref(f)(x,N),onHoverValue:x=>e.unref(W)(x,N)},e.createSlots({header:e.withCtx(()=>[e.createVNode($n,e.mergeProps(A.$props,{items:e.unref(O)(N),instance:N,"show-year-picker":e.unref(M)[N],year:e.unref(k)(N),"is-disabled":x=>e.unref(g)(N,x),onHandleYear:x=>e.unref(K)(N,x),onYearSelect:x=>e.unref(L)(x,N),onToggleYearPicker:x=>e.unref(R)(N,x==null?void 0:x.flow,x==null?void 0:x.show)}),e.createSlots({_:2},[e.renderList(e.unref(d),(x,le)=>({name:x,fn:e.withCtx(se=>[e.renderSlot(A.$slots,x,e.normalizeProps(e.guardReactiveProps(se)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[A.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:x})=>[e.renderSlot(A.$slots,"month-overlay-value",{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Oa=(t,n)=>{const o=()=>{t.isTextInputDate&&(g.value=s.getYear(H(t.startDate)))},{modelValue:a}=st(t,n,o),r=e.ref(null),{defaultedHighlight:d,defaultedMultiDates:m,defaultedFilters:h,defaultedRange:O,propDates:k}=ke(t),g=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(g.value=s.getYear(H(t.startDate)))});const C=f=>Array.isArray(a.value)?a.value.some(V=>s.getYear(V)===f):a.value?s.getYear(a.value)===f:!1,B=f=>O.value.enabled&&Array.isArray(a.value)?ft(a.value,r.value,J(f)):!1,M=e.computed(()=>Ze(Pt(t.yearRange,t.locale,t.reverseYears),f=>{const V=C(f.value),R=nt(f.value,Fe(k.value.minDate),Fe(k.value.maxDate))||h.value.years.includes(f.value),L=B(f.value)&&!V,K=Lt(d.value,f.value);return{active:V,disabled:R,isBetween:L,highlighted:K}})),J=f=>s.setYear(Ve(s.startOfYear(new Date)),f);return{groupedYears:M,modelValue:a,focusYear:g,setHoverValue:f=>{r.value=s.setYear(Ve(new Date),f)},selectYear:f=>{var V;if(n("update-month-year",{instance:0,year:f}),m.value.enabled)return a.value?Array.isArray(a.value)&&(((V=a.value)==null?void 0:V.map(L=>s.getYear(L))).includes(f)?a.value=a.value.filter(L=>s.getYear(L)!==f):a.value.push(s.setYear(Pe(H()),f))):a.value=[s.setYear(Pe(s.startOfYear(H())),f)],n("auto-apply",!0);O.value.enabled?(a.value=qt(a,J(f),n),e.nextTick().then(()=>{ht(a.value,n,t.autoApply,t.modelAuto)})):(a.value=J(f),n("auto-apply"))}}},Ya=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const a=o,r=t,{groupedYears:d,modelValue:m,focusYear:h,selectYear:O,setHoverValue:k}=Oa(r,a),{defaultedConfig:g}=ke(r);return n({getSidebarProps:()=>({modelValue:m,selectYear:O})}),(B,M)=>(e.openBlock(),e.createElementBlock("div",null,[B.$slots["top-extra"]?e.renderSlot(B.$slots,"top-extra",{key:0,value:B.internalModelValue}):e.createCommentVNode("",!0),B.$slots["month-year"]?e.renderSlot(B.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(d),selectYear:e.unref(O)}))):(e.openBlock(),e.createBlock(rt,{key:2,items:e.unref(d),"is-last":B.autoApply&&!e.unref(g).keepActionRow,height:e.unref(g).modeHeight,config:B.config,"no-overlay-focus":!!(B.noOverlayFocus||B.textInput),"focus-value":e.unref(h),type:"year","use-relative":"",onSelected:e.unref(O),onHoverValue:e.unref(k)},e.createSlots({_:2},[B.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(B.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Va={key:0,class:"dp__time_input"},_a=["data-compact","data-collapsed"],Ia=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],za=["aria-label","disabled","data-test-id","onKeydown","onClick"],La=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Ha={key:0},Ua=["aria-label","data-compact"],Wa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:o}){const a=o,r=t,{setTimePickerElements:d,setTimePickerBackRef:m}=Ke(),{defaultedAriaLabels:h,defaultedTransitions:O,defaultedFilters:k,defaultedConfig:g,defaultedRange:C,defaultedMultiCalendars:B}=ke(r),{transitionName:M,showTransition:J}=ot(O),P=e.reactive({hours:!1,minutes:!1,seconds:!1}),W=e.ref("AM"),f=e.ref(null),V=e.ref([]),R=e.ref(),L=e.ref(!1);e.onMounted(()=>{a("mounted")});const K=l=>s.set(new Date,{hours:l.hours,minutes:l.minutes,seconds:r.enableSeconds?l.seconds:0,milliseconds:0}),ne=e.computed(()=>l=>T(l,r[l])||A(l,r[l])),q=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),A=(l,E)=>C.value.enabled&&!C.value.disableTimeRangeValidation?!r.validateTime(l,E):!1,X=(l,E)=>{if(C.value.enabled&&!C.value.disableTimeRangeValidation){const F=E?+r[`${l}Increment`]:-+r[`${l}Increment`],G=r[l]+F;return!r.validateTime(l,G)}return!1},N=e.computed(()=>l=>!Q(+r[l]+ +r[`${l}Increment`],l)||X(l,!0)),x=e.computed(()=>l=>!Q(+r[l]-+r[`${l}Increment`],l)||X(l,!1)),le=(l,E)=>s.add(s.set(H(),l),E),se=(l,E)=>s.sub(s.set(H(),l),E),y=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),Y=e.computed(()=>r.timePickerInline&&C.value.enabled&&!B.value.count),te=e.computed(()=>{const l=[{type:"hours"}];return r.enableMinutes&&l.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&l.push({type:"",separator:!0},{type:"seconds"}),l}),p=e.computed(()=>te.value.filter(l=>!l.separator)),j=e.computed(()=>l=>{if(l==="hours"){const E=ie(+r.hours);return{text:E<10?`0${E}`:`${E}`,value:E}}return{text:r[l]<10?`0${r[l]}`:`${r[l]}`,value:r[l]}}),T=(l,E)=>{var G;if(!r.disabledTimesConfig)return!1;const F=r.disabledTimesConfig(r.order,l==="hours"?E:void 0);return F[l]?!!((G=F[l])!=null&&G.includes(E)):!0},b=(l,E)=>E!=="hours"||W.value==="AM"?l:l+12,ee=l=>{const E=r.is24?24:12,F=l==="hours"?E:60,G=+r[`${l}GridIncrement`],ae=l==="hours"&&!r.is24?G:0,de=[];for(let v=ae;v<F;v+=G)de.push({value:r.is24?v:b(v,l),text:v<10?`0${v}`:`${v}`});return l==="hours"&&!r.is24&&de.unshift({value:W.value==="PM"?12:0,text:"12"}),Ze(de,v=>({active:!1,disabled:k.value.times[l].includes(v.value)||!Q(v.value,l)||T(l,v.value)||A(l,v.value)}))},_=l=>l>=0?l:59,D=l=>l>=0?l:23,Q=(l,E)=>{const F=r.minTime?K(Yt(r.minTime)):null,G=r.maxTime?K(Yt(r.maxTime)):null,ae=K(Yt(q.value,E,E==="minutes"||E==="seconds"?_(l):D(l)));return F&&G?(s.isBefore(ae,G)||s.isEqual(ae,G))&&(s.isAfter(ae,F)||s.isEqual(ae,F)):F?s.isAfter(ae,F)||s.isEqual(ae,F):G?s.isBefore(ae,G)||s.isEqual(ae,G):!0},u=l=>r[`no${l[0].toUpperCase()+l.slice(1)}Overlay`],w=l=>{u(l)||(P[l]=!P[l],P[l]?(L.value=!0,a("overlay-opened",l)):(L.value=!1,a("overlay-closed",l)))},I=l=>l==="hours"?s.getHours:l==="minutes"?s.getMinutes:s.getSeconds,c=()=>{R.value&&clearTimeout(R.value)},Z=(l,E=!0,F)=>{const G=E?le:se,ae=E?+r[`${l}Increment`]:-+r[`${l}Increment`];Q(+r[l]+ae,l)&&a(`update:${l}`,I(l)(G({[l]:+r[l]},{[l]:+r[`${l}Increment`]}))),!(F!=null&&F.keyboard)&&g.value.timeArrowHoldThreshold&&(R.value=setTimeout(()=>{Z(l,E)},g.value.timeArrowHoldThreshold))},ie=l=>r.is24?l:(l>=12?W.value="PM":W.value="AM",Wn(l)),$=()=>{W.value==="PM"?(W.value="AM",a("update:hours",r.hours-12)):(W.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",W.value)},ce=l=>{P[l]=!0},oe=(l,E,F)=>{if(l&&r.arrowNavigation){Array.isArray(V.value[E])?V.value[E][F]=l:V.value[E]=[l];const G=V.value.reduce((ae,de)=>de.map((v,z)=>[...ae[z]||[],de[z]]),[]);m(r.closeTimePickerBtn),f.value&&(G[1]=G[1].concat(f.value)),d(G,r.order)}},ge=(l,E)=>(w(l),a(`update:${l}`,E));return n({openChildCmp:ce}),(l,E)=>{var F;return l.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Va,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(te.value,(G,ae)=>{var de,v,z;return e.openBlock(),e.createElementBlock("div",{key:ae,class:e.normalizeClass(y.value),"data-compact":Y.value&&!l.enableSeconds,"data-collapsed":Y.value&&l.enableSeconds},[G.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[L.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ue=>oe(ue,ae,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_top:l.timePickerInline,dp__inc_dec_button_disabled:N.value(G.type),"dp--hidden-el":L.value}),"data-test-id":`${G.type}-time-inc-btn-${r.order}`,"aria-label":(de=e.unref(h))==null?void 0:de.incrementValue(G.type),tabindex:"0",onKeydown:ue=>e.unref(Ae)(ue,()=>Z(G.type,!0,{keyboard:!0}),!0),onClick:ue=>e.unref(g).timeArrowHoldThreshold?void 0:Z(G.type,!0),onMousedown:ue=>e.unref(g).timeArrowHoldThreshold?Z(G.type,!0):void 0,onMouseup:c},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[l.$slots["tp-inline-arrow-up"]?e.renderSlot(l.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[E[2]||(E[2]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),E[3]||(E[3]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-up"]?e.renderSlot(l.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],64))],42,Ia),e.createElementVNode("button",{ref_for:!0,ref:ue=>oe(ue,ae,1),type:"button","aria-label":`${j.value(G.type).text}-${(v=e.unref(h))==null?void 0:v.openTpOverlay(G.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!l.timePickerInline,dp__time_display_inline:l.timePickerInline,"dp--time-invalid":ne.value(G.type),"dp--time-overlay-btn":!ne.value(G.type),"dp--hidden-el":L.value}),disabled:u(G.type),tabindex:"0","data-test-id":`${G.type}-toggle-overlay-btn-${r.order}`,onKeydown:ue=>e.unref(Ae)(ue,()=>w(G.type),!0),onClick:ue=>w(G.type)},[l.$slots[G.type]?e.renderSlot(l.$slots,G.type,{key:0,text:j.value(G.type).text,value:j.value(G.type).value}):e.createCommentVNode("",!0),l.$slots[G.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.value(G.type).text),1)],64))],42,za),e.createElementVNode("button",{ref_for:!0,ref:ue=>oe(ue,ae,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_bottom:l.timePickerInline,dp__inc_dec_button_disabled:x.value(G.type),"dp--hidden-el":L.value}),"data-test-id":`${G.type}-time-dec-btn-${r.order}`,"aria-label":(z=e.unref(h))==null?void 0:z.decrementValue(G.type),tabindex:"0",onKeydown:ue=>e.unref(Ae)(ue,()=>Z(G.type,!1,{keyboard:!0}),!0),onClick:ue=>e.unref(g).timeArrowHoldThreshold?void 0:Z(G.type,!1),onMousedown:ue=>e.unref(g).timeArrowHoldThreshold?Z(G.type,!1):void 0,onMouseup:c},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[l.$slots["tp-inline-arrow-down"]?e.renderSlot(l.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[E[4]||(E[4]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),E[5]||(E[5]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-down"]?e.renderSlot(l.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Tt),{key:1}))],64))],42,La)],64))],10,_a)}),128)),l.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ha,[l.$slots["am-pm-button"]?e.renderSlot(l.$slots,"am-pm-button",{key:0,toggle:$,value:W.value}):e.createCommentVNode("",!0),l.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(F=e.unref(h))==null?void 0:F.amPmButton,tabindex:"0","data-compact":Y.value,onClick:$,onKeydown:E[0]||(E[0]=G=>e.unref(Ae)(G,()=>$(),!0))},e.toDisplayString(W.value),41,Ua))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(G,ae)=>(e.openBlock(),e.createBlock(e.Transition,{key:ae,name:e.unref(M)(P[G.type]),css:e.unref(J)},{default:e.withCtx(()=>{var de,v;return[P[G.type]?(e.openBlock(),e.createBlock(rt,{key:0,items:ee(G.type),"is-last":l.autoApply&&!e.unref(g).keepActionRow,"esc-close":l.escClose,type:G.type,"text-input":l.textInput,config:l.config,"arrow-navigation":l.arrowNavigation,"aria-labels":l.ariaLabels,"overlay-label":(v=(de=e.unref(h)).timeOverlay)==null?void 0:v.call(de,G.type),onSelected:z=>ge(G.type,z),onToggle:z=>w(G.type),onResetFlow:E[1]||(E[1]=z=>l.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[l.$slots["clock-icon"]?e.renderSlot(l.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),l.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.timePickerInline?e.unref(Je):e.unref(Bt)),{key:1}))]),_:2},[l.$slots[`${G.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:z})=>[e.renderSlot(l.$slots,`${G.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,l.$slots[`${G.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(l.$slots,`${G.type}-overlay-header`,{toggle:()=>w(G.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),ja=["data-dp-mobile"],Ka=["aria-label","tabindex"],xa=["role","aria-label","tabindex"],qa=["aria-label"],Nn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const a=o,r=t,{buildMatrix:d,setTimePicker:m}=Ke(),h=e.useSlots(),{defaultedTransitions:O,defaultedAriaLabels:k,defaultedTextInput:g,defaultedConfig:C,defaultedRange:B}=ke(r),{transitionName:M,showTransition:J}=ot(O),{hideNavigationButtons:P}=kt(),W=e.ref(null),f=e.ref(null),V=e.ref([]),R=e.ref(null),L=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?d([De(W.value)],"time"):m(!0,r.timePicker)});const K=e.computed(()=>B.value.enabled&&r.modelAuto?un(r.internalModelValue):!0),ne=e.ref(!1),q=T=>({hours:Array.isArray(r.hours)?r.hours[T]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[T]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[T]:r.seconds}),A=e.computed(()=>{const T=[];if(B.value.enabled)for(let b=0;b<2;b++)T.push(q(b));else T.push(q(0));return T}),X=(T,b=!1,ee="")=>{b||a("reset-flow"),ne.value=T,a(T?"overlay-opened":"overlay-closed",Ce.time),r.arrowNavigation&&m(T),e.nextTick(()=>{ee!==""&&V.value[0]&&V.value[0].openChildCmp(ee)})},N=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!C.value.keepActionRow})),x=Ne(h,"timePicker"),le=(T,b,ee)=>B.value.enabled?b===0?[T,A.value[1][ee]]:[A.value[0][ee],T]:T,se=T=>{a("update:hours",T)},y=T=>{a("update:minutes",T)},Y=T=>{a("update:seconds",T)},te=()=>{if(R.value&&!g.value.enabled&&!r.noOverlayFocus){const T=fn(R.value);T&&T.focus({preventScroll:!0})}},p=T=>{L.value=!1,a("overlay-closed",T)},j=T=>{L.value=!0,a("overlay-opened",T)};return n({toggleTimePicker:X}),(T,b)=>{var ee;return e.openBlock(),e.createElementBlock("div",{class:"dp--tp-wrap","data-dp-mobile":T.isMobile},[!T.timePicker&&!T.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:W,type:"button",class:e.normalizeClass({...N.value,"dp--hidden-el":ne.value}),"aria-label":(ee=e.unref(k))==null?void 0:ee.openTimePicker,tabindex:T.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:b[0]||(b[0]=_=>e.unref(Ae)(_,()=>X(!0))),onClick:b[1]||(b[1]=_=>X(!0))},[T.$slots["clock-icon"]?e.renderSlot(T.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],42,Ka)),[[e.vShow,!e.unref(P)(T.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(M)(ne.value),css:e.unref(J)&&!T.timePickerInline},{default:e.withCtx(()=>{var _,D;return[ne.value||T.timePicker||T.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:R,role:T.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!T.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!T.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(T.timePicker?{height:`${e.unref(C).modeHeight}px`}:void 0),"aria-label":(_=e.unref(k))==null?void 0:_.timePicker,tabindex:T.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(T.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[T.$slots["time-picker-overlay"]?e.renderSlot(T.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:se,setMinutes:y,setSeconds:Y}):e.createCommentVNode("",!0),T.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(T.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,(Q,u)=>e.withDirectives((e.openBlock(),e.createBlock(Wa,e.mergeProps({key:u,ref_for:!0},{...T.$props,order:u,hours:Q.hours,minutes:Q.minutes,seconds:Q.seconds,closeTimePickerBtn:f.value,disabledTimesConfig:t.disabledTimesConfig,disabled:u===0?e.unref(B).fixedStart:e.unref(B).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:V,"validate-time":(w,I)=>t.validateTime(w,le(I,u,w)),"onUpdate:hours":w=>se(le(w,u,"hours")),"onUpdate:minutes":w=>y(le(w,u,"minutes")),"onUpdate:seconds":w=>Y(le(w,u,"seconds")),onMounted:te,onOverlayClosed:p,onOverlayOpened:j,onAmPmChange:b[2]||(b[2]=w=>T.$emit("am-pm-change",w))}),e.createSlots({_:2},[e.renderList(e.unref(x),(w,I)=>({name:w,fn:e.withCtx(c=>[e.renderSlot(T.$slots,w,e.mergeProps({ref_for:!0},c))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,u===0?!0:K.value]])),128))],2)),!T.timePicker&&!T.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:f,type:"button",class:e.normalizeClass({...N.value,"dp--hidden-el":L.value}),"aria-label":(D=e.unref(k))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:b[3]||(b[3]=Q=>e.unref(Ae)(Q,()=>X(!1))),onClick:b[4]||(b[4]=Q=>X(!1))},[T.$slots["calendar-icon"]?e.renderSlot(T.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Je),{key:1}))],42,qa)),[[e.vShow,!e.unref(P)(T.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,xa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],8,ja)}}}),En=(t,n,o,a)=>{const{defaultedRange:r}=ke(t),d=(R,L)=>Array.isArray(n[R])?n[R][L]:n[R],m=R=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[R]:n.seconds:0,h=(R,L)=>R?L!==void 0?We(R,d("hours",L),d("minutes",L),m(L)):We(R,n.hours,n.minutes,m()):s.setSeconds(H(),m(L)),O=(R,L)=>{n[R]=L},k=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:r.value.enabled),g=(R,L)=>{const K=Object.fromEntries(Object.keys(n).map(ne=>ne===R?[ne,L]:[ne,n[ne]].slice()));if(k.value&&!r.value.disableTimeRangeValidation){const ne=A=>o.value?We(o.value[A],K.hours[A],K.minutes[A],K.seconds[A]):null,q=A=>s.setMilliseconds(o.value[A],0);return!(me(ne(0),ne(1))&&(s.isAfter(ne(0),q(1))||s.isBefore(ne(1),q(0))))}return!0},C=(R,L)=>{g(R,L)&&(O(R,L),a&&a())},B=R=>{C("hours",R)},M=R=>{C("minutes",R)},J=R=>{C("seconds",R)},P=(R,L,K,ne)=>{L&&B(R),!L&&!K&&M(R),K&&J(R),o.value&&ne(o.value)},W=R=>{if(R){const L=Array.isArray(R),K=L?[+R[0].hours,+R[1].hours]:+R.hours,ne=L?[+R[0].minutes,+R[1].minutes]:+R.minutes,q=L?[+R[0].seconds,+R[1].seconds]:+R.seconds;O("hours",K),O("minutes",ne),t.enableSeconds&&O("seconds",q)}},f=(R,L)=>{const K={hours:Array.isArray(n.hours)?n.hours[R]:n.hours,disabledArr:[]};return(L||L===0)&&(K.hours=L),Array.isArray(t.disabledTimes)&&(K.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),K},V=e.computed(()=>(R,L)=>{var K;if(Array.isArray(t.disabledTimes)){const{disabledArr:ne,hours:q}=f(R,L),A=ne.filter(X=>+X.hours===q);return((K=A[0])==null?void 0:K.minutes)==="*"?{hours:[q],minutes:void 0,seconds:void 0}:{hours:[],minutes:(A==null?void 0:A.map(X=>+X.minutes))??[],seconds:(A==null?void 0:A.map(X=>X.seconds?+X.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:O,updateHours:B,updateMinutes:M,updateSeconds:J,getSetDateTime:h,updateTimeValues:P,getSecondsValue:m,assignStartTime:W,validateTime:g,disabledTimesConfig:V}},Ga=(t,n)=>{const o=()=>{t.isTextInputDate&&L()},{modelValue:a,time:r}=st(t,n,o),{defaultedStartTime:d,defaultedRange:m,defaultedTz:h}=ke(t),{updateTimeValues:O,getSetDateTime:k,setTime:g,assignStartTime:C,disabledTimesConfig:B,validateTime:M}=En(t,r,a,J);function J(){n("update-flow-step")}const P=q=>{const{hours:A,minutes:X,seconds:N}=q;return{hours:+A,minutes:+X,seconds:N?+N:0}},W=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const A=P(t.startTime[0]),X=P(t.startTime[1]);return[s.set(H(),A),s.set(H(),X)]}const q=P(t.startTime);return s.set(H(),q)}return m.value.enabled?[null,null]:null},f=()=>{if(m.value.enabled){const[q,A]=W();a.value=[Re(k(q,0),h.value.timezone),Re(k(A,1),h.value.timezone)]}else a.value=Re(k(W()),h.value.timezone)},V=q=>Array.isArray(q)?[Qe(H(q[0])),Qe(H(q[1]))]:[Qe(q??H())],R=(q,A,X)=>{g("hours",q),g("minutes",A),g("seconds",t.enableSeconds?X:0)},L=()=>{const[q,A]=V(a.value);return m.value.enabled?R([q.hours,A.hours],[q.minutes,A.minutes],[q.seconds,A.seconds]):R(q.hours,q.minutes,q.seconds)};e.onMounted(()=>{if(!t.shadow)return C(d.value),a.value?L():f()});const K=()=>{Array.isArray(a.value)?a.value=a.value.map((q,A)=>q&&k(q,A)):a.value=k(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:B,updateTime:(q,A=!0,X=!1)=>{O(q,A,X,K)},validateTime:M}},Qa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{..._e},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=t,d=e.useSlots(),m=Ne(d,"timePicker"),h=e.ref(null),{time:O,modelValue:k,disabledTimesConfig:g,updateTime:C,validateTime:B}=Ga(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:k,time:O,updateTime:C}),toggleTimePicker:(P,W=!1,f="")=>{var V;(V=h.value)==null||V.toggleTimePicker(P,W,f)}}),(P,W)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":0,stretch:"","is-mobile":P.isMobile},{default:e.withCtx(()=>[e.createVNode(Nn,e.mergeProps({ref_key:"tpRef",ref:h},P.$props,{hours:e.unref(O).hours,minutes:e.unref(O).minutes,seconds:e.unref(O).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":e.unref(g),"validate-time":e.unref(B),"onUpdate:hours":W[0]||(W[0]=f=>e.unref(C)(f)),"onUpdate:minutes":W[1]||(W[1]=f=>e.unref(C)(f,!1)),"onUpdate:seconds":W[2]||(W[2]=f=>e.unref(C)(f,!1,!0)),onAmPmChange:W[3]||(W[3]=f=>P.$emit("am-pm-change",f)),onResetFlow:W[4]||(W[4]=f=>P.$emit("reset-flow")),onOverlayClosed:W[5]||(W[5]=f=>P.$emit("overlay-toggle",{open:!1,overlay:f})),onOverlayOpened:W[6]||(W[6]=f=>P.$emit("overlay-toggle",{open:!0,overlay:f}))}),e.createSlots({_:2},[e.renderList(e.unref(m),(f,V)=>({name:f,fn:e.withCtx(R=>[e.renderSlot(P.$slots,f,e.normalizeProps(e.guardReactiveProps(R)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Xa={class:"dp--header-wrap"},Ja={key:0,class:"dp__month_year_wrap"},Za={key:0},Fa={class:"dp__month_year_wrap"},er=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],tr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},..._e},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:o}){const a=o,r=t,{defaultedTransitions:d,defaultedAriaLabels:m,defaultedMultiCalendars:h,defaultedFilters:O,defaultedConfig:k,defaultedHighlight:g,propDates:C,defaultedUI:B}=ke(r),{transitionName:M,showTransition:J}=ot(d),{buildMatrix:P}=Ke(),{handleMonthYearChange:W,isDisabled:f,updateMonthYear:V}=wa(r,a),{showLeftIcon:R,showRightIcon:L}=kt(),K=e.ref(!1),ne=e.ref(!1),q=e.ref(!1),A=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const X=D=>({get:()=>r[D],set:Q=>{const u=D===Oe.month?Oe.year:Oe.month;a("update-month-year",{[D]:Q,[u]:r[u]}),D===Oe.month?p(!0):j(!0)}}),N=e.computed(X(Oe.month)),x=e.computed(X(Oe.year)),le=e.computed(()=>D=>({month:r.month,year:r.year,items:D===Oe.month?r.months:r.years,instance:r.instance,updateMonthYear:V,toggle:D===Oe.month?p:j})),se=e.computed(()=>{const D=r.months.find(Q=>Q.value===r.month);return D||{text:"",value:0}}),y=e.computed(()=>Ze(r.months,D=>{const Q=r.month===D.value,u=nt(D.value,yn(r.year,C.value.minDate),hn(r.year,C.value.maxDate))||O.value.months.includes(D.value),w=Dn(g.value,D.value,r.year);return{active:Q,disabled:u,highlighted:w}})),Y=e.computed(()=>Ze(r.years,D=>{const Q=r.year===D.value,u=nt(D.value,Fe(C.value.minDate),Fe(C.value.maxDate))||O.value.years.includes(D.value),w=Lt(g.value,D.value);return{active:Q,disabled:u,highlighted:w}})),te=(D,Q,u)=>{u!==void 0?D.value=u:D.value=!D.value,D.value?(q.value=!0,a("overlay-opened",Q)):(q.value=!1,a("overlay-closed",Q))},p=(D=!1,Q)=>{T(D),te(K,Ce.month,Q)},j=(D=!1,Q)=>{T(D),te(ne,Ce.year,Q)},T=D=>{D||a("reset-flow")},b=(D,Q)=>{r.arrowNavigation&&(A.value[Q]=De(D),P(A.value,"monthYear"))},ee=e.computed(()=>{var D,Q,u,w,I,c;return[{type:Oe.month,index:1,toggle:p,modelValue:N.value,updateModelValue:Z=>N.value=Z,text:se.value.text,showSelectionGrid:K.value,items:y.value,ariaLabel:(D=m.value)==null?void 0:D.openMonthsOverlay,overlayLabel:((u=(Q=m.value).monthPicker)==null?void 0:u.call(Q,!0))??void 0},{type:Oe.year,index:2,toggle:j,modelValue:x.value,updateModelValue:Z=>x.value=Z,text:mn(r.year,r.locale),showSelectionGrid:ne.value,items:Y.value,ariaLabel:(w=m.value)==null?void 0:w.openYearsOverlay,overlayLabel:((c=(I=m.value).yearPicker)==null?void 0:c.call(I,!0))??void 0}]}),_=e.computed(()=>r.disableYearSelect?[ee.value[0]]:r.yearFirst?[...ee.value].reverse():ee.value);return n({toggleMonthPicker:p,toggleYearPicker:j,handleMonthYearChange:W}),(D,Q)=>{var u,w,I,c,Z,ie;return e.openBlock(),e.createElementBlock("div",Xa,[D.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Ja,[e.renderSlot(D.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(V),handleMonthYearChange:e.unref(W),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[D.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Za,[e.renderSlot(D.$slots,"top-extra",{value:D.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Fa,[e.unref(R)(e.unref(h),t.instance)&&!D.vertical?(e.openBlock(),e.createBlock(lt,{key:0,"aria-label":(u=e.unref(m))==null?void 0:u.prevMonth,disabled:e.unref(f)(!1),class:e.normalizeClass((w=e.unref(B))==null?void 0:w.navBtnPrev),"el-name":"action-prev",onActivate:Q[0]||(Q[0]=$=>e.unref(W)(!1,!0)),onSetRef:Q[1]||(Q[1]=$=>b($,0))},{default:e.withCtx(()=>[D.$slots["arrow-left"]?e.renderSlot(D.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,($,ce)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:$.type},[e.createElementVNode("button",{ref_for:!0,ref:oe=>b(oe,ce+1),type:"button","data-dp-element":`overlay-${$.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":q.value}]),"aria-label":`${$.text}-${$.ariaLabel}`,"data-test-id":`${$.type}-toggle-overlay-${t.instance}`,onClick:$.toggle,onKeydown:oe=>e.unref(Ae)(oe,()=>$.toggle(),!0)},[D.$slots[$.type]?e.renderSlot(D.$slots,$.type,{key:0,text:$.text,value:r[$.type]}):e.createCommentVNode("",!0),D.$slots[$.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString($.text),1)],64))],42,er),e.createVNode(e.Transition,{name:e.unref(M)($.showSelectionGrid),css:e.unref(J)},{default:e.withCtx(()=>[$.showSelectionGrid?(e.openBlock(),e.createBlock(rt,{key:0,items:$.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!e.unref(k).keepActionRow,"skip-button-ref":!1,config:D.config,type:$.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,"overlay-label":$.overlayLabel,onSelected:$.updateModelValue,onToggle:$.toggle},e.createSlots({"button-icon":e.withCtx(()=>[D.$slots["calendar-icon"]?e.renderSlot(D.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),D.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Je),{key:1}))]),_:2},[D.$slots[`${$.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:oe})=>[e.renderSlot(D.$slots,`${$.type}-overlay-value`,{text:oe.text,value:oe.value})]),key:"0"}:void 0,D.$slots[`${$.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${$.type}-overlay`,e.mergeProps({ref_for:!0},le.value($.type)))]),key:"1"}:void 0,D.$slots[`${$.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${$.type}-overlay-header`,{toggle:$.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(R)(e.unref(h),t.instance)&&D.vertical?(e.openBlock(),e.createBlock(lt,{key:1,"aria-label":(I=e.unref(m))==null?void 0:I.prevMonth,"el-name":"action-prev",disabled:e.unref(f)(!1),class:e.normalizeClass((c=e.unref(B))==null?void 0:c.navBtnPrev),onActivate:Q[2]||(Q[2]=$=>e.unref(W)(!1,!0))},{default:e.withCtx(()=>[D.$slots["arrow-up"]?e.renderSlot(D.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(L)(e.unref(h),t.instance)?(e.openBlock(),e.createBlock(lt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(f)(!0),"aria-label":(Z=e.unref(m))==null?void 0:Z.nextMonth,class:e.normalizeClass((ie=e.unref(B))==null?void 0:ie.navBtnNext),onActivate:Q[3]||(Q[3]=$=>e.unref(W)(!0,!0)),onSetRef:Q[4]||(Q[4]=$=>b($,D.disableYearSelect?2:3))},{default:e.withCtx(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.renderSlot(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.vertical?e.unref(Tt):e.unref(St)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),nr={class:"dp__calendar_header",role:"row"},ar={key:0,class:"dp__calendar_header_item",role:"gridcell"},rr=["aria-label"],lr={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},or={class:"dp__cell_inner"},sr=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],ir=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},..._e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const a=o,r=t,{buildMultiLevelMatrix:d}=Ke(),{defaultedTransitions:m,defaultedConfig:h,defaultedAriaLabels:O,defaultedMultiCalendars:k,defaultedWeekNumbers:g,defaultedMultiDates:C,defaultedUI:B}=ke(r),M=e.ref(null),J=e.ref({bottom:"",left:"",transform:""}),P=e.ref([]),W=e.ref(null),f=e.ref(!0),V=e.ref(""),R=e.ref({startX:0,endX:0,startY:0,endY:0}),L=e.ref([]),K=e.ref({left:"50%"}),ne=e.ref(!1),q=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),A=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Un(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:P}),h.value.noSwipe||W.value&&(W.value.addEventListener("touchstart",b,{passive:!1}),W.value.addEventListener("touchend",ee,{passive:!1}),W.value.addEventListener("touchmove",_,{passive:!1})),r.monthChangeOnScroll&&W.value&&W.value.addEventListener("wheel",u,{passive:!1})});const X=$=>$?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",N=($,ce)=>{if(r.transitions){const oe=Pe(Le(H(),r.month,r.year));V.value=ve(Pe(Le(H(),$,ce)),oe)?m.value[X(!0)]:m.value[X(!1)],f.value=!1,e.nextTick(()=>{f.value=!0})}},x=e.computed(()=>({...B.value.calendar??{}})),le=e.computed(()=>$=>{const ce=jn($);return{dp__marker_dot:ce.type==="dot",dp__marker_line:ce.type==="line"}}),se=e.computed(()=>$=>me($,M.value)),y=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.count>0&&r.instance!==0})),Y=e.computed(()=>$=>r.hideOffsetDates?$.current:!0),te=async($,ce)=>{const{width:oe,height:ge}=$.getBoundingClientRect();M.value=ce.value;let l={left:`${oe/2}px`},E=-50;if(await e.nextTick(),L.value[0]){const{left:F,width:G}=L.value[0].getBoundingClientRect();F<0&&(l={left:"0"},E=0,K.value.left=`${oe/2}px`),window.innerWidth<F+G&&(l={right:"0"},E=0,K.value.left=`${G-oe/2}px`)}J.value={bottom:`${ge}px`,...l,transform:`translateX(${E}%)`}},p=async($,ce,oe)=>{var l,E,F;const ge=De(P.value[ce][oe]);ge&&((l=$.marker)!=null&&l.customPosition&&((F=(E=$.marker)==null?void 0:E.tooltip)!=null&&F.length)?J.value=$.marker.customPosition(ge):await te(ge,$),a("tooltip-open",$.marker))},j=async($,ce,oe)=>{var ge,l;if(ne.value&&C.value.enabled&&C.value.dragSelect)return a("select-date",$);if(a("set-hover-date",$),(l=(ge=$.marker)==null?void 0:ge.tooltip)!=null&&l.length){if(r.hideOffsetDates&&!$.current)return;await p($,ce,oe)}},T=$=>{M.value&&(M.value=null,J.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",$.marker))},b=$=>{R.value.startX=$.changedTouches[0].screenX,R.value.startY=$.changedTouches[0].screenY},ee=$=>{R.value.endX=$.changedTouches[0].screenX,R.value.endY=$.changedTouches[0].screenY,D()},_=$=>{r.vertical&&!r.inline&&$.preventDefault()},D=()=>{const $=r.vertical?"Y":"X";Math.abs(R.value[`start${$}`]-R.value[`end${$}`])>10&&a("handle-swipe",R.value[`start${$}`]>R.value[`end${$}`]?"right":"left")},Q=($,ce,oe)=>{$&&(Array.isArray(P.value[ce])?P.value[ce][oe]=$:P.value[ce]=[$]),r.arrowNavigation&&d(P.value,"calendar")},u=$=>{r.monthChangeOnScroll&&($.preventDefault(),a("handle-scroll",$))},w=$=>g.value.type==="local"?s.getWeek($.value,{weekStartsOn:+r.weekStart}):g.value.type==="iso"?s.getISOWeek($.value):typeof g.value.type=="function"?g.value.type($.value):"",I=$=>{const ce=$[0];return g.value.hideOnOffsetDates?$.some(oe=>oe.current)?w(ce):"":w(ce)},c=($,ce,oe=!0)=>{oe&&pn()||!oe&&!pn()||(!C.value.enabled||h.value.allowPreventDefault)&&(Ue($,h.value),a("select-date",ce))},Z=$=>{Ue($,h.value)},ie=$=>{C.value.enabled&&C.value.dragSelect?(ne.value=!0,a("select-date",$)):C.value.enabled&&a("select-date",$)};return n({triggerTransition:N}),($,ce)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:W,class:e.normalizeClass(x.value),role:"grid"},[e.createElementVNode("div",nr,[$.weekNumbers?(e.openBlock(),e.createElementBlock("div",ar,e.toDisplayString($.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,(oe,ge)=>{var l,E;return e.openBlock(),e.createElementBlock("div",{key:ge,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(E=(l=e.unref(O))==null?void 0:l.weekDay)==null?void 0:E.call(l,ge)},[$.$slots["calendar-header"]?e.renderSlot($.$slots,"calendar-header",{key:0,day:oe,index:ge}):e.createCommentVNode("",!0),$.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(oe),1)],64))],8,rr)}),128))]),ce[2]||(ce[2]=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1)),e.createVNode(e.Transition,{name:V.value,css:!!$.transitions},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:ce[1]||(ce[1]=oe=>ne.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,(oe,ge)=>(e.openBlock(),e.createElementBlock("div",{key:ge,class:"dp__calendar_row",role:"row"},[$.weekNumbers?(e.openBlock(),e.createElementBlock("div",lr,[e.createElementVNode("div",or,e.toDisplayString(I(oe.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(oe.days,(l,E)=>{var F,G,ae;return e.openBlock(),e.createElementBlock("div",{id:e.unref(Sn)(l.value),ref_for:!0,ref:de=>Q(de,ge,E),key:E+ge,role:"gridcell",class:"dp__calendar_item","aria-pressed":(l.classData.dp__active_date||l.classData.dp__range_start||l.classData.dp__range_start)??void 0,"aria-disabled":l.classData.dp__cell_disabled||void 0,"aria-label":(G=(F=e.unref(O))==null?void 0:F.day)==null?void 0:G.call(F,l),tabindex:!l.current&&$.hideOffsetDates?void 0:0,"data-test-id":l.value,onClick:e.withModifiers(de=>c(de,l),["prevent"]),onTouchend:de=>c(de,l,!1),onKeydown:de=>e.unref(Ae)(de,()=>$.$emit("select-date",l)),onMouseenter:de=>j(l,ge,E),onMouseleave:de=>T(l),onMousedown:de=>ie(l),onMouseup:ce[0]||(ce[0]=de=>ne.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",l.classData])},[$.$slots.day&&Y.value(l)?e.renderSlot($.$slots,"day",{key:0,day:+l.text,date:l.value}):e.createCommentVNode("",!0),$.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l.text),1)],64)),l.marker&&Y.value(l)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[$.$slots.marker?e.renderSlot($.$slots,"marker",{key:0,marker:l.marker,day:+l.text,date:l.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(le.value(l.marker)),style:e.normalizeStyle(l.marker.color?{backgroundColor:l.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),se.value(l.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:L,class:"dp__marker_tooltip",style:e.normalizeStyle(J.value)},[(ae=l.marker)!=null&&ae.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:Z},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.marker.tooltip,(de,v)=>(e.openBlock(),e.createElementBlock("div",{key:v,class:"dp__tooltip_text"},[$.$slots["marker-tooltip"]?e.renderSlot($.$slots,"marker-tooltip",{key:0,tooltip:de,day:l.value}):e.createCommentVNode("",!0),$.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(de.color?{backgroundColor:de.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(de.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(K.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,sr)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),On=t=>Array.isArray(t),ur=(t,n,o,a)=>{const r=e.ref([]),d=e.ref([]),m=e.ref(new Date),h=e.ref(),O=()=>ee(t.isTextInputDate),{modelValue:k,calendars:g,time:C,today:B}=st(t,n,O),{defaultedMultiCalendars:M,defaultedStartTime:J,defaultedRange:P,defaultedConfig:W,defaultedTz:f,propDates:V,defaultedMultiDates:R}=ke(t),{validateMonthYearInRange:L,isDisabled:K,isDateRangeAllowed:ne,checkMinMaxRange:q}=qe(t),{updateTimeValues:A,getSetDateTime:X,setTime:N,assignStartTime:x,validateTime:le,disabledTimesConfig:se}=En(t,C,k,a),y=e.computed(()=>i=>g.value[i]?g.value[i].month:0),Y=e.computed(()=>i=>g.value[i]?g.value[i].year:0),te=i=>!W.value.keepViewOnOffsetClick||i?!0:!h.value,p=(i,S,U,fe=!1)=>{var pe,Ee;te(fe)&&(g.value[i]||(g.value[i]={month:0,year:0}),g.value[i].month=dn(S)?(pe=g.value[i])==null?void 0:pe.month:S,g.value[i].year=dn(U)?(Ee=g.value[i])==null?void 0:Ee.year:U)},j=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(k.value||(ce(),J.value&&x(J.value)),ee(!0),t.focusStartDate&&t.startDate&&ce())});const T=e.computed(()=>{var i;return(i=t.flow)!=null&&i.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&T.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},ee=(i=!1)=>{if(k.value)return Array.isArray(k.value)?(r.value=k.value,c(i)):Q(k.value,i);if(M.value.count&&i&&!t.startDate)return D(H(),i)},_=()=>Array.isArray(k.value)&&P.value.enabled?s.getMonth(k.value[0])===s.getMonth(k.value[1]??k.value[0]):!1,D=(i=new Date,S=!1)=>{if((!M.value.count||!M.value.static||S)&&p(0,s.getMonth(i),s.getYear(i)),M.value.count&&(!k.value||_()||!M.value.solo)&&(!M.value.solo||S))for(let U=1;U<M.value.count;U++){const fe=s.set(H(),{month:y.value(U-1),year:Y.value(U-1)}),pe=s.add(fe,{months:1});g.value[U]={month:s.getMonth(pe),year:s.getYear(pe)}}},Q=(i,S)=>{D(i),N("hours",s.getHours(i)),N("minutes",s.getMinutes(i)),N("seconds",s.getSeconds(i)),M.value.count&&S&&$()},u=i=>{if(M.value.count){if(M.value.solo)return 0;const S=s.getMonth(i[0]),U=s.getMonth(i[1]);return Math.abs(U-S)<M.value.count?0:1}return 1},w=(i,S)=>{i[1]&&P.value.showLastInRange?D(i[u(i)],S):D(i[0],S);const U=(fe,pe)=>[fe(i[0]),i[1]?fe(i[1]):C[pe][1]];N("hours",U(s.getHours,"hours")),N("minutes",U(s.getMinutes,"minutes")),N("seconds",U(s.getSeconds,"seconds"))},I=(i,S)=>{if((P.value.enabled||t.weekPicker)&&!R.value.enabled)return w(i,S);if(R.value.enabled&&S){const U=i[i.length-1];return Q(U,S)}},c=i=>{const S=k.value;I(S,i),M.value.count&&M.value.solo&&$()},Z=(i,S)=>{const U=s.set(H(),{month:y.value(S),year:Y.value(S)}),fe=i<0?s.addMonths(U,1):s.subMonths(U,1);L(s.getMonth(fe),s.getYear(fe),i<0,t.preventMinMaxNavigation)&&(p(S,s.getMonth(fe),s.getYear(fe)),n("update-month-year",{instance:S,month:s.getMonth(fe),year:s.getYear(fe)}),M.value.count&&!M.value.solo&&ie(S),o())},ie=i=>{for(let S=i-1;S>=0;S--){const U=s.subMonths(s.set(H(),{month:y.value(S+1),year:Y.value(S+1)}),1);p(S,s.getMonth(U),s.getYear(U))}for(let S=i+1;S<=M.value.count-1;S++){const U=s.addMonths(s.set(H(),{month:y.value(S-1),year:Y.value(S-1)}),1);p(S,s.getMonth(U),s.getYear(U))}},$=()=>{if(Array.isArray(k.value)&&k.value.length===2){const i=H(H(k.value[1]?k.value[1]:s.addMonths(k.value[0],1))),[S,U]=[s.getMonth(k.value[0]),s.getYear(k.value[0])],[fe,pe]=[s.getMonth(k.value[1]),s.getYear(k.value[1])];(S!==fe||S===fe&&U!==pe)&&M.value.solo&&p(1,s.getMonth(i),s.getYear(i))}else k.value&&!Array.isArray(k.value)&&(p(0,s.getMonth(k.value),s.getYear(k.value)),D(H()))},ce=()=>{t.startDate&&(p(0,s.getMonth(H(t.startDate)),s.getYear(H(t.startDate))),M.value.count&&ie(0))},oe=(i,S)=>{if(t.monthChangeOnScroll){const U=new Date().getTime()-m.value.getTime(),fe=Math.abs(i.deltaY);let pe=500;fe>1&&(pe=100),fe>100&&(pe=0),U>pe&&(m.value=new Date,Z(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,S))}},ge=(i,S,U=!1)=>{t.monthChangeOnArrows&&t.vertical===U&&l(i,S)},l=(i,S)=>{Z(i==="right"?-1:1,S)},E=i=>{if(V.value.markers)return dt(i.value,V.value.markers)},F=(i,S)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[i==0,!0];case"fair":return[i==0||S>i,!0];case"append":return[!1,!1];default:return[!1,!1]}},G=(i,S,U,fe)=>{if(t.sixWeeks&&i.length<6){const pe=6-i.length,Ee=(S.getDay()+7-fe)%7,wt=6-(U.getDay()+7-fe)%7,[ct,an]=F(Ee,wt);for(let Xe=1;Xe<=pe;Xe++)if(an?!!(Xe%2)==ct:ct){const Mt=i[0].days[0],rn=ae(s.addDays(Mt.value,-7),s.getMonth(S));i.unshift({days:rn})}else{const Mt=i[i.length-1],rn=Mt.days[Mt.days.length-1],Hr=ae(s.addDays(rn.value,1),s.getMonth(S));i.push({days:Hr})}}return i},ae=(i,S)=>{const U=H(i),fe=[];for(let pe=0;pe<7;pe++){const Ee=s.addDays(U,pe),ut=s.getMonth(Ee)!==S;fe.push({text:t.hideOffsetDates&&ut?"":Ee.getDate(),value:Ee,current:!ut,classData:{}})}return fe},de=(i,S)=>{const U=[],fe=new Date(S,i),pe=new Date(S,i+1,0),Ee=t.weekStart,ut=s.startOfWeek(fe,{weekStartsOn:Ee}),wt=ct=>{const an=ae(ct,i);if(U.push({days:an}),!U[U.length-1].days.some(Xe=>me(Pe(Xe.value),Pe(pe)))){const Xe=s.addDays(ct,7);wt(Xe)}};return wt(ut),G(U,fe,pe,Ee)},v=i=>{const S=We(H(i.value),C.hours,C.minutes,bt());n("date-update",S),R.value.enabled?xt(S,k,R.value.limit):k.value=S,a(),e.nextTick().then(()=>{b()})},z=i=>P.value.noDisabledRange?kn(r.value[0],i).some(U=>K(U)):!1,ue=()=>{r.value=k.value?k.value.slice():[],r.value.length===2&&!(P.value.fixedStart||P.value.fixedEnd)&&(r.value=[])},Se=(i,S)=>{const U=[H(i.value),s.addDays(H(i.value),+P.value.autoRange)];ne(U)?(S&&Ie(i.value),r.value=U):n("invalid-date",i.value)},Ie=i=>{const S=s.getMonth(H(i)),U=s.getYear(H(i));if(p(0,S,U),M.value.count>0)for(let fe=1;fe<M.value.count;fe++){const pe=Jn(s.set(H(i),{year:Y.value(fe-1),month:y.value(fe-1)}));p(fe,pe.month,pe.year)}},re=i=>{if(z(i.value)||!q(i.value,k.value,P.value.fixedStart?0:1))return n("invalid-date",i.value);r.value=Pn(H(i.value),k,n,P)},He=i=>{d.value[0]&&n("range-hovering",[d.value[0],i,!be(H(i.value),H(d.value[0]))])},Be=(i,S)=>{if(ue(),P.value.autoRange)return Se(i,S);if(P.value.fixedStart||P.value.fixedEnd)return re(i);r.value[0]?q(H(i.value),k.value)&&!z(i.value)?(be(H(i.value),H(r.value[0]))?(r.value.unshift(H(i.value)),n("range-end",r.value[0])):(r.value[1]=H(i.value),n("range-end",r.value[1])),d.value=[]):(t.autoApply&&n("auto-apply-invalid",i.value),n("invalid-date",i.value)):(r.value[0]=H(i.value),n("range-start",r.value[0]),d.value[0]=r.value[0])},bt=(i=!0)=>t.enableSeconds?Array.isArray(C.seconds)?i?C.seconds[0]:C.seconds[1]:C.seconds:0,it=i=>{r.value[i]=We(r.value[i],C.hours[i],C.minutes[i],bt(i!==1))},vt=()=>{var i,S;r.value[0]&&r.value[1]&&+((i=r.value)==null?void 0:i[0])>+((S=r.value)==null?void 0:S[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},Xt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?it(0):(it(0),it(1),a()),vt(),k.value=r.value.slice(),ht(r.value,n,t.autoApply,t.modelAuto))},Jt=(i,S=!1)=>{if(K(i.value)||!i.current&&t.hideOffsetDates)return n("invalid-date",i.value);if(h.value=JSON.parse(JSON.stringify(i)),!P.value.enabled)return v(i);On(C.hours)&&On(C.minutes)&&!R.value.enabled&&(Be(i,S),Xt())},Zt=(i,S)=>{var fe;p(i,S.month,S.year,!0),M.value.count&&!M.value.solo&&ie(i),n("update-month-year",{instance:i,month:S.month,year:S.year}),o(M.value.solo?i:void 0);const U=(fe=t.flow)!=null&&fe.length?t.flow[t.flowStep]:void 0;!S.fromNav&&(U===Ce.month||U===Ce.year)&&a()},Ft=(i,S)=>{An({value:i,modelValue:k,range:P.value.enabled,timezone:S?void 0:f.value.timezone}),j(),t.multiCalendars&&e.nextTick().then(()=>ee(!0))},en=()=>{const i=$t(H(),f.value);!P.value.enabled&&!R.value.enabled?k.value=i:k.value&&Array.isArray(k.value)&&k.value[0]?R.value.enabled?k.value=[...k.value,i]:k.value=be(i,k.value[0])?[i,k.value[0]]:[k.value[0],i]:k.value=[i],j()},tn=()=>{if(Array.isArray(k.value))if(R.value.enabled){const i=nn();k.value[k.value.length-1]=X(i)}else k.value=k.value.map((i,S)=>i&&X(i,S));else k.value=X(k.value);n("time-update")},nn=()=>Array.isArray(k.value)&&k.value.length?k.value[k.value.length-1]:null;return{calendars:g,modelValue:k,month:y,year:Y,time:C,disabledTimesConfig:se,today:B,validateTime:le,getCalendarDays:de,getMarker:E,handleScroll:oe,handleSwipe:l,handleArrow:ge,selectDate:Jt,handleDateSelection:He,updateMonthYear:Zt,presetDate:Ft,selectCurrentDate:en,updateTime:(i,S=!0,U=!1)=>{A(i,S,U,tn)},assignMonthAndYear:D}},cr={key:0},dr=e.defineComponent({__name:"DatePicker",props:{..._e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-hovering","range-end","hover-day","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=t,{calendars:d,month:m,year:h,modelValue:O,time:k,disabledTimesConfig:g,today:C,validateTime:B,getCalendarDays:M,getMarker:J,handleArrow:P,handleScroll:W,handleDateSelection:f,handleSwipe:V,selectDate:R,updateMonthYear:L,presetDate:K,selectCurrentDate:ne,updateTime:q,assignMonthAndYear:A}=ur(r,a,D,Q),X=e.useSlots(),{setHoverDate:N,getDayClassData:x,clearHoverDate:le}=$r(O,r),{defaultedMultiCalendars:se}=ke(r),y=l=>{l&&(a("hover-day",l),N(l),f(l))},Y=e.ref([]),te=e.ref([]),p=e.ref(null),j=Ne(X,"calendar"),T=Ne(X,"monthYear"),b=Ne(X,"timePicker"),ee=l=>{r.shadow||a("mount",l)};e.watch(d,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(se,(l,E)=>{l.count-E.count>0&&A()},{deep:!0});const _=e.computed(()=>l=>M(m.value(l),h.value(l)).map(E=>({...E,days:E.days.map(F=>(F.marker=J(F),F.classData=x(F),F))})));function D(l){var E;l||l===0?(E=te.value[l])==null||E.triggerTransition(m.value(l),h.value(l)):te.value.forEach((F,G)=>F.triggerTransition(m.value(G),h.value(G)))}function Q(){a("update-flow-step")}const u=(l,E=!1)=>{R(l,E),r.spaceConfirm&&a("select-date")},w=(l,E,F=0)=>{var G;(G=Y.value[F])==null||G.toggleMonthPicker(l,E)},I=(l,E,F=0)=>{var G;(G=Y.value[F])==null||G.toggleYearPicker(l,E)},c=(l,E,F)=>{var G;(G=p.value)==null||G.toggleTimePicker(l,E,F)},Z=(l,E)=>{var F;if(!r.range){const G=O.value?O.value:C,ae=E?new Date(E):G,de=l?s.startOfWeek(ae,{weekStartsOn:1}):s.endOfWeek(ae,{weekStartsOn:1});R({value:de,current:s.getMonth(ae)===m.value(0),text:"",classData:{}}),(F=document.getElementById(Sn(de)))==null||F.focus()}},ie=l=>{var E;(E=Y.value[0])==null||E.handleMonthYearChange(l,!0)},$=l=>{L(0,{month:m.value(0),year:h.value(0)+(l?1:-1),fromNav:!0})},ce=(l,E)=>{l===Ce.time&&a(`time-picker-${E?"open":"close"}`),a("overlay-toggle",{open:E,overlay:l})},oe=l=>{a("overlay-toggle",{open:!1,overlay:l}),a("focus-menu")};return n({clearHoverDate:le,presetDate:K,selectCurrentDate:ne,toggleMonthPicker:w,toggleYearPicker:I,toggleTimePicker:c,handleArrow:P,updateMonthYear:L,getSidebarProps:()=>({modelValue:O,month:m,year:h,time:k,updateTime:q,updateMonthYear:L,selectDate:R,presetDate:K}),changeMonth:ie,changeYear:$,selectWeekDate:Z}),(l,E)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(yt,{"multi-calendars":e.unref(se).count,collapse:l.collapse,"is-mobile":l.isMobile},{default:e.withCtx(({instance:F,index:G})=>[l.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(tr,e.mergeProps({key:0,ref:ae=>{ae&&(Y.value[G]=ae)},months:e.unref(sn)(l.formatLocale,l.locale,l.monthNameFormat),years:e.unref(Pt)(l.yearRange,l.locale,l.reverseYears),month:e.unref(m)(F),year:e.unref(h)(F),instance:F},l.$props,{onMount:E[0]||(E[0]=ae=>ee(e.unref(Ge).header)),onResetFlow:E[1]||(E[1]=ae=>l.$emit("reset-flow")),onUpdateMonthYear:ae=>e.unref(L)(F,ae),onOverlayClosed:oe,onOverlayOpened:E[2]||(E[2]=ae=>l.$emit("overlay-toggle",{open:!0,overlay:ae}))}),e.createSlots({_:2},[e.renderList(e.unref(T),(ae,de)=>({name:ae,fn:e.withCtx(v=>[e.renderSlot(l.$slots,ae,e.normalizeProps(e.guardReactiveProps(v)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(ir,e.mergeProps({ref:ae=>{ae&&(te.value[G]=ae)},"mapped-dates":_.value(F),month:e.unref(m)(F),year:e.unref(h)(F),instance:F},l.$props,{onSelectDate:ae=>e.unref(R)(ae,F!==1),onHandleSpace:ae=>u(ae,F!==1),onSetHoverDate:E[3]||(E[3]=ae=>y(ae)),onHandleScroll:ae=>e.unref(W)(ae,F),onHandleSwipe:ae=>e.unref(V)(ae,F),onMount:E[4]||(E[4]=ae=>ee(e.unref(Ge).calendar)),onResetFlow:E[5]||(E[5]=ae=>l.$emit("reset-flow")),onTooltipOpen:E[6]||(E[6]=ae=>l.$emit("tooltip-open",ae)),onTooltipClose:E[7]||(E[7]=ae=>l.$emit("tooltip-close",ae))}),e.createSlots({_:2},[e.renderList(e.unref(j),(ae,de)=>({name:ae,fn:e.withCtx(v=>[e.renderSlot(l.$slots,ae,e.normalizeProps(e.guardReactiveProps({...v})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),l.enableTimePicker?(e.openBlock(),e.createElementBlock("div",cr,[l.$slots["time-picker"]?e.renderSlot(l.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(k),updateTime:e.unref(q)}))):(e.openBlock(),e.createBlock(Nn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:p},l.$props,{hours:e.unref(k).hours,minutes:e.unref(k).minutes,seconds:e.unref(k).seconds,"internal-model-value":l.internalModelValue,"disabled-times-config":e.unref(g),"validate-time":e.unref(B),onMount:E[8]||(E[8]=F=>ee(e.unref(Ge).timePicker)),"onUpdate:hours":E[9]||(E[9]=F=>e.unref(q)(F)),"onUpdate:minutes":E[10]||(E[10]=F=>e.unref(q)(F,!1)),"onUpdate:seconds":E[11]||(E[11]=F=>e.unref(q)(F,!1,!0)),onResetFlow:E[12]||(E[12]=F=>l.$emit("reset-flow")),onOverlayClosed:E[13]||(E[13]=F=>ce(F,!1)),onOverlayOpened:E[14]||(E[14]=F=>ce(F,!0)),onAmPmChange:E[15]||(E[15]=F=>l.$emit("am-pm-change",F))}),e.createSlots({_:2},[e.renderList(e.unref(b),(F,G)=>({name:F,fn:e.withCtx(ae=>[e.renderSlot(l.$slots,F,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),fr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:d,defaultedRange:m,propDates:h,defaultedFilters:O,defaultedMultiDates:k}=ke(t),{modelValue:g,year:C,month:B,calendars:M}=st(t,n),{isDisabled:J}=qe(t),{selectYear:P,groupedYears:W,showYearPicker:f,isDisabled:V,toggleYearPicker:R,handleYearSelect:L,handleYear:K}=Rn({modelValue:g,multiCalendars:a,range:m,highlight:d,calendars:M,propDates:h,month:B,year:C,filters:O,props:t,emit:n}),ne=(p,j)=>[p,j].map(T=>s.format(T,"MMMM",{locale:t.formatLocale})).join("-"),q=e.computed(()=>p=>g.value?Array.isArray(g.value)?g.value.some(j=>s.isSameQuarter(p,j)):s.isSameQuarter(g.value,p):!1),A=p=>{if(m.value.enabled){if(Array.isArray(g.value)){const j=me(p,g.value[0])||me(p,g.value[1]);return ft(g.value,o.value,p)&&!j}return!1}return!1},X=(p,j)=>p.quarter===s.getQuarter(j)&&p.year===s.getYear(j),N=p=>typeof d.value=="function"?d.value({quarter:s.getQuarter(p),year:s.getYear(p)}):!!d.value.quarters.find(j=>X(j,p)),x=e.computed(()=>p=>{const j=s.set(new Date,{year:C.value(p)});return s.eachQuarterOfInterval({start:s.startOfYear(j),end:s.endOfYear(j)}).map(T=>{const b=s.startOfQuarter(T),ee=s.endOfQuarter(T),_=J(T),D=A(b),Q=N(b);return{text:ne(b,ee),value:b,active:q.value(b),highlighted:Q,disabled:_,isBetween:D}})}),le=p=>{xt(p,g,k.value.limit),n("auto-apply",!0)},se=p=>{g.value=qt(g,p,n),ht(g.value,n,t.autoApply,t.modelAuto)},y=p=>{g.value=p,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:W,year:C,isDisabled:V,quarters:x,showYearPicker:f,modelValue:g,setHoverDate:p=>{o.value=p},selectYear:P,selectQuarter:(p,j,T)=>{if(!T)return M.value[j].month=s.getMonth(s.endOfQuarter(p)),k.value.enabled?le(p):m.value.enabled?se(p):y(p)},toggleYearPicker:R,handleYearSelect:L,handleYear:K}},mr={class:"dp--quarter-items"},pr=["data-test-id","disabled","onClick","onMouseover"],gr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-hovering","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:o}){const a=o,r=t,d=e.useSlots(),m=Ne(d,"yearMode"),{defaultedMultiCalendars:h,defaultedConfig:O,groupedYears:k,year:g,isDisabled:C,quarters:B,modelValue:M,showYearPicker:J,setHoverDate:P,selectQuarter:W,toggleYearPicker:f,handleYearSelect:V,handleYear:R}=fr(r,a);return n({getSidebarProps:()=>({modelValue:M,year:g,selectQuarter:W,handleYearSelect:V,handleYear:R})}),(K,ne)=>(e.openBlock(),e.createBlock(yt,{"multi-calendars":e.unref(h).count,collapse:K.collapse,stretch:"","is-mobile":K.isMobile},{default:e.withCtx(({instance:q})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(O).modeHeight}px`})},[K.$slots["top-extra"]?e.renderSlot(K.$slots,"top-extra",{key:0,value:K.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode($n,e.mergeProps(K.$props,{items:e.unref(k)(q),instance:q,"show-year-picker":e.unref(J)[q],year:e.unref(g)(q),"is-disabled":A=>e.unref(C)(q,A),onHandleYear:A=>e.unref(R)(q,A),onYearSelect:A=>e.unref(V)(A,q),onToggleYearPicker:A=>e.unref(f)(q,A==null?void 0:A.flow,A==null?void 0:A.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(A,X)=>({name:A,fn:e.withCtx(N=>[e.renderSlot(K.$slots,A,e.normalizeProps(e.guardReactiveProps(N)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",mr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B)(q),(A,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":A.active,"dp--qr-btn-between":A.isBetween,"dp--qr-btn-disabled":A.disabled,"dp--highlighted":A.highlighted}]),"data-test-id":A.value,disabled:A.disabled,onClick:N=>e.unref(W)(A.value,q,A.disabled),onMouseover:N=>e.unref(P)(A.value)},[K.$slots.quarter?e.renderSlot(K.$slots,"quarter",{key:0,value:A.value,text:A.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64))],42,pr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Yn=(t,n)=>{const o=e.ref(0);e.onMounted(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("resize",a)});const a=()=>{o.value=window.document.documentElement.clientWidth};return{isMobile:e.computed(()=>o.value<=t.value.mobileBreakpoint&&!n?!0:void 0)}},yr=["id","tabindex","role","aria-label"],hr={key:0,class:"dp--menu-load-container"},kr={key:1,class:"dp--menu-header"},br=["data-dp-mobile"],vr={key:0,class:"dp__sidebar_left"},wr=["data-dp-mobile"],Mr=["data-test-id","data-dp-mobile","onClick","onKeydown"],Dr={key:2,class:"dp__sidebar_right"},Sr={key:3,class:"dp__action_extra"},Vn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...gt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-hovering","hover-day","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(t,{expose:n,emit:o}){const a=o,r=t,d=e.ref(null),m=e.computed(()=>{const{openOnTop:v,...z}=r;return{...z,isMobile:P.value,flowStep:x.value,menuWrapRef:d.value}}),{setMenuFocused:h,setShiftKey:O,control:k}=Bn(),g=e.useSlots(),{defaultedTextInput:C,defaultedInline:B,defaultedConfig:M,defaultedUI:J}=ke(r),{isMobile:P}=Yn(M,r.shadow),W=e.ref(null),f=e.ref(0),V=e.ref(null),R=e.ref(!1),L=e.ref(null),K=e.ref(!1);e.onMounted(()=>{if(!r.shadow){R.value=!0,ne(),window.addEventListener("resize",ne);const v=De(d);if(v&&!C.value.enabled&&!B.value.enabled&&(h(!0),j()),v){const z=ue=>{K.value=!0,M.value.allowPreventDefault&&ue.preventDefault(),Ue(ue,M.value,!0)};v.addEventListener("pointerdown",z),v.addEventListener("mousedown",z)}}document.addEventListener("mousedown",de)}),e.onUnmounted(()=>{window.removeEventListener("resize",ne),document.addEventListener("mousedown",de)});const ne=()=>{const v=De(V);v&&(f.value=v.getBoundingClientRect().width)},{arrowRight:q,arrowLeft:A,arrowDown:X,arrowUp:N}=Ke(),{flowStep:x,updateFlowStep:le,childMount:se,resetFlow:y,handleFlow:Y}=Ar(r,a,L),te=e.computed(()=>r.monthPicker?Ea:r.yearPicker?Ya:r.timePicker?Qa:r.quarterPicker?gr:dr),p=e.computed(()=>{var ue;if(M.value.arrowLeft)return M.value.arrowLeft;const v=(ue=d.value)==null?void 0:ue.getBoundingClientRect(),z=r.getInputRect();return(z==null?void 0:z.width)<(f==null?void 0:f.value)&&(z==null?void 0:z.left)<=((v==null?void 0:v.left)??0)?`${(z==null?void 0:z.width)/2}px`:(z==null?void 0:z.right)>=((v==null?void 0:v.right)??0)&&(z==null?void 0:z.width)<(f==null?void 0:f.value)?`${(f==null?void 0:f.value)-(z==null?void 0:z.width)/2}px`:"50%"}),j=()=>{const v=De(d);v&&v.focus({preventScroll:!0})},T=e.computed(()=>{var v;return((v=L.value)==null?void 0:v.getSidebarProps())||{}}),b=()=>{r.openOnTop&&a("recalculate-position")},ee=Ne(g,"action"),_=e.computed(()=>r.monthPicker||r.yearPicker?Ne(g,"monthYear"):r.timePicker?Ne(g,"timePicker"):Ne(g,"shared")),D=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Q=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),u=e.computed(()=>({dp__menu:!0,dp__menu_index:!B.value.enabled,dp__relative:B.value.enabled,...J.value.menu??{}})),w=v=>{Ue(v,M.value,!0)},I=()=>{r.escClose&&a("close-picker")},c=v=>{if(r.arrowNavigation){if(v===$e.up)return N();if(v===$e.down)return X();if(v===$e.left)return A();if(v===$e.right)return q()}else v===$e.left||v===$e.up?oe("handleArrow",$e.left,0,v===$e.up):oe("handleArrow",$e.right,0,v===$e.down)},Z=v=>{O(v.shiftKey),!r.disableMonthYearSelect&&v.code===ye.tab&&v.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(v.preventDefault(),Ue(v,M.value,!0),a("close-picker"))},ie=()=>{j(),a("time-picker-close")},$=v=>{var z,ue,Se;(z=L.value)==null||z.toggleTimePicker(!1,!1),(ue=L.value)==null||ue.toggleMonthPicker(!1,!1,v),(Se=L.value)==null||Se.toggleYearPicker(!1,!1,v)},ce=(v,z=0)=>{var ue,Se,Ie;return v==="month"?(ue=L.value)==null?void 0:ue.toggleMonthPicker(!1,!0,z):v==="year"?(Se=L.value)==null?void 0:Se.toggleYearPicker(!1,!0,z):v==="time"?(Ie=L.value)==null?void 0:Ie.toggleTimePicker(!0,!1):$(z)},oe=(v,...z)=>{var ue,Se;(ue=L.value)!=null&&ue[v]&&((Se=L.value)==null||Se[v](...z))},ge=()=>{oe("selectCurrentDate")},l=(v,z)=>{oe("presetDate",v,z)},E=()=>{oe("clearHoverDate")},F=(v,z)=>{oe("updateMonthYear",v,z)},G=(v,z)=>{v.preventDefault(),c(z)},ae=v=>{var z,ue,Se;if(Z(v),v.key===ye.home||v.key===ye.end)return oe("selectWeekDate",v.key===ye.home,v.target.getAttribute("id"));switch((v.key===ye.pageUp||v.key===ye.pageDown)&&(v.shiftKey?(oe("changeYear",v.key===ye.pageUp),(z=Nt(d.value,"overlay-year"))==null||z.focus()):(oe("changeMonth",v.key===ye.pageUp),(ue=Nt(d.value,v.key===ye.pageUp?"action-prev":"action-next"))==null||ue.focus()),v.target.getAttribute("id")&&((Se=d.value)==null||Se.focus({preventScroll:!0}))),v.key){case ye.esc:return I();case ye.arrowLeft:return G(v,$e.left);case ye.arrowRight:return G(v,$e.right);case ye.arrowUp:return G(v,$e.up);case ye.arrowDown:return G(v,$e.down);default:return}},de=v=>{var z;B.value.enabled&&!B.value.input&&!((z=d.value)!=null&&z.contains(v.target))&&K.value&&(K.value=!1,a("menu-blur"))};return n({updateMonthYear:F,switchView:ce,handleFlow:Y}),(v,z)=>{var ue,Se,Ie;return e.openBlock(),e.createElementBlock("div",{id:v.uid?`dp-menu-${v.uid}`:void 0,ref_key:"dpMenuRef",ref:d,tabindex:e.unref(B).enabled?void 0:"0",role:e.unref(B).enabled?void 0:"dialog","aria-label":(ue=v.ariaLabels)==null?void 0:ue.menu,class:e.normalizeClass(u.value),style:e.normalizeStyle({"--dp-arrow-left":p.value}),onMouseleave:E,onClick:w,onKeydown:ae},[(v.disabled||v.readonly)&&e.unref(B).enabled||v.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(Q.value)},[v.loading?(e.openBlock(),e.createElementBlock("div",hr,z[21]||(z[21]=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)]))):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),v.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",kr,[e.renderSlot(v.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(B).enabled&&!v.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(D.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:V,class:e.normalizeClass({dp__menu_content_wrapper:((Se=v.presetDates)==null?void 0:Se.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Ie=v.presetDates)==null?void 0:Ie.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"])}),"data-dp-mobile":e.unref(P),style:e.normalizeStyle({"--dp-menu-width":`${f.value}px`})},[v.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",vr,[e.renderSlot(v.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(T.value)))])):e.createCommentVNode("",!0),v.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0}),"data-dp-mobile":e.unref(P)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.presetDates,(re,He)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:He},[re.slot?e.renderSlot(v.$slots,re.slot,{key:0,presetDate:l,label:re.label,value:re.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(re.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test-id":re.testId??void 0,"data-dp-mobile":e.unref(P),onClick:e.withModifiers(Be=>l(re.value,re.noTz),["prevent"]),onKeydown:Be=>e.unref(Ae)(Be,()=>l(re.value,re.noTz),!0)},e.toDisplayString(re.label),47,Mr))],64))),128))],10,wr)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:W,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(te.value),e.mergeProps({ref_key:"dynCmpRef",ref:L},m.value,{"flow-step":e.unref(x),onMount:e.unref(se),onUpdateFlowStep:e.unref(le),onResetFlow:e.unref(y),onFocusMenu:j,onSelectDate:z[0]||(z[0]=re=>v.$emit("select-date")),onDateUpdate:z[1]||(z[1]=re=>v.$emit("date-update",re)),onTooltipOpen:z[2]||(z[2]=re=>v.$emit("tooltip-open",re)),onTooltipClose:z[3]||(z[3]=re=>v.$emit("tooltip-close",re)),onAutoApply:z[4]||(z[4]=re=>v.$emit("auto-apply",re)),onRangeStart:z[5]||(z[5]=re=>v.$emit("range-start",re)),onRangeHovering:z[6]||(z[6]=re=>v.$emit("range-hovering",re)),onRangeEnd:z[7]||(z[7]=re=>v.$emit("range-end",re)),onHoverDay:z[8]||(z[8]=re=>v.$emit("hover-day",re)),onInvalidFixedRange:z[9]||(z[9]=re=>v.$emit("invalid-fixed-range",re)),onTimeUpdate:z[10]||(z[10]=re=>v.$emit("time-update")),onAmPmChange:z[11]||(z[11]=re=>v.$emit("am-pm-change",re)),onTimePickerOpen:z[12]||(z[12]=re=>v.$emit("time-picker-open",re)),onTimePickerClose:ie,onRecalculatePosition:b,onUpdateMonthYear:z[13]||(z[13]=re=>v.$emit("update-month-year",re)),onAutoApplyInvalid:z[14]||(z[14]=re=>v.$emit("auto-apply-invalid",re)),onInvalidDate:z[15]||(z[15]=re=>v.$emit("invalid-date",re)),onOverlayToggle:z[16]||(z[16]=re=>v.$emit("overlay-toggle",re)),"onUpdate:internalModelValue":z[17]||(z[17]=re=>v.$emit("update:internal-model-value",re))}),e.createSlots({_:2},[e.renderList(_.value,(re,He)=>({name:re,fn:e.withCtx(Be=>[e.renderSlot(v.$slots,re,e.normalizeProps(e.guardReactiveProps({...Be})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),v.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Dr,[e.renderSlot(v.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(T.value)))])):e.createCommentVNode("",!0),v.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Sr,[v.$slots["action-extra"]?e.renderSlot(v.$slots,"action-extra",{key:0,selectCurrentDate:ge}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],14,br),!v.autoApply||e.unref(M).keepActionRow?(e.openBlock(),e.createBlock(Sa,e.mergeProps({key:3,"menu-mount":R.value},m.value,{"calendar-width":f.value,onClosePicker:z[18]||(z[18]=re=>v.$emit("close-picker")),onSelectDate:z[19]||(z[19]=re=>v.$emit("select-date")),onInvalidSelect:z[20]||(z[20]=re=>v.$emit("invalid-select")),onSelectNow:ge}),e.createSlots({_:2},[e.renderList(e.unref(ee),(re,He)=>({name:re,fn:e.withCtx(Be=>[e.renderSlot(v.$slots,re,e.normalizeProps(e.guardReactiveProps({...Be})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,yr)}}});var tt=(t=>(t.center="center",t.left="left",t.right="right",t))(tt||{});const Br=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:a,inline:r,emit:d,props:m,slots:h})=>{const{defaultedConfig:O}=ke(m),k=e.ref({}),g=e.ref(!1),C=e.ref({top:"0",left:"0"}),B=e.ref(!1),M=e.toRef(m,"teleportCenter");e.watch(M,()=>{C.value=JSON.parse(JSON.stringify({})),K()});const J=p=>{if(m.teleport){const j=p.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},P=(p,j)=>{C.value.left=`${p+j-k.value.width}px`},W=p=>{C.value.left=`${p}px`},f=(p,j)=>{m.position===tt.left&&W(p),m.position===tt.right&&P(p,j),m.position===tt.center&&(C.value.left=`${p+j/2-k.value.width/2}px`)},V=p=>{const{width:j,height:T}=p.getBoundingClientRect(),{top:b,left:ee}=J(p);return{top:+b,left:+ee,width:j,height:T}},R=()=>{C.value.left="50%",C.value.top="50%",C.value.transform="translate(-50%, -50%)",C.value.position="fixed",delete C.value.opacity},L=()=>{const p=De(o);C.value=m.altPosition(p)},K=(p=!0)=>{var j;if(!r.value.enabled){if(M.value)return R();if(m.altPosition!==null)return L();if(p){const T=m.teleport?(j=n.value)==null?void 0:j.$el:t.value;T&&(k.value=T.getBoundingClientRect()),d("recalculate-position")}return le()}},ne=({inputEl:p,left:j,width:T})=>{window.screen.width>768&&!g.value&&f(j,T),X(p)},q=p=>{const{top:j,left:T,height:b,width:ee}=V(p);C.value.top=`${b+j+ +m.offset}px`,B.value=!1,g.value||(C.value.left=`${T+ee/2-k.value.width/2}px`),ne({inputEl:p,left:T,width:ee})},A=p=>{const{top:j,left:T,width:b}=V(p);C.value.top=`${j-+m.offset-k.value.height}px`,B.value=!0,ne({inputEl:p,left:T,width:b})},X=p=>{if(m.autoPosition){const{left:j,width:T}=V(p),{left:b,right:ee}=k.value;if(!g.value){if(Math.abs(b)!==Math.abs(ee)){if(b<=0)return g.value=!0,W(j);if(ee>=document.documentElement.clientWidth)return g.value=!0,P(j,T)}return f(j,T)}}},N=()=>{const p=De(o);if(p){if(m.autoPosition===Ye.top)return Ye.top;if(m.autoPosition===Ye.bottom)return Ye.bottom;const{height:j}=k.value,{top:T,height:b}=p.getBoundingClientRect(),_=window.innerHeight-T-b,D=T;return j<=_?Ye.bottom:j>_&&j<=D?Ye.top:_>=D?Ye.bottom:Ye.top}return Ye.bottom},x=p=>N()===Ye.bottom?q(p):A(p),le=()=>{const p=De(o);if(p)return m.autoPosition?x(p):q(p)},se=function(p){if(p){const j=p.scrollHeight>p.clientHeight,b=window.getComputedStyle(p).overflowY.indexOf("hidden")!==-1;return j&&!b}return!0},y=function(p){return!p||p===document.body||p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(p)?p:y(p.assignedSlot&&O.value.shadowDom?p.assignedSlot.parentNode:p.parentNode)},Y=p=>{if(p)switch(m.position){case tt.left:return{left:0,transform:"translateX(0)"};case tt.right:return{left:`${p.width}px`,transform:"translateX(-100%)"};default:return{left:`${p.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:B,menuStyle:C,xCorrect:g,setMenuPosition:K,getScrollableParent:y,shadowRender:(p,j)=>{var u,w,I;const T=document.createElement("div"),b=(u=De(o))==null?void 0:u.getBoundingClientRect();T.setAttribute("id","dp--temp-container");const ee=(w=a.value)!=null&&w.clientWidth?a.value:document.body;ee.append(T);const _=Y(b),D=O.value.shadowDom?Object.keys(h).filter(c=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(c)):Object.keys(h),Q=e.h(p,{...j,shadow:!0,style:{opacity:0,position:"absolute",..._}},Object.fromEntries(D.map(c=>[c,h[c]])));e.render(Q,T),k.value=(I=Q.el)==null?void 0:I.getBoundingClientRect(),e.render(null,T),ee.removeChild(T)}}},xe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Cr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Tr={all:()=>xe,monthYear:()=>xe.filter(t=>t.use.includes("month-year")),input:()=>Cr,timePicker:()=>xe.filter(t=>t.use.includes("time")),action:()=>xe.filter(t=>t.use.includes("action")),calendar:()=>xe.filter(t=>t.use.includes("calendar")),menu:()=>xe.filter(t=>t.use.includes("menu")),shared:()=>xe.filter(t=>t.use.includes("shared")),yearMode:()=>xe.filter(t=>t.use.includes("year-mode"))},Ne=(t,n,o)=>{const a=[];return Tr[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),o!=null&&o.length&&o.forEach(r=>{r.slot&&a.push(r.slot)}),a},ot=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),o=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},st=(t,n,o)=>{const{defaultedRange:a,defaultedTz:r}=ke(t),d=H(Re(H(),r.value.timezone)),m=e.ref([{month:s.getMonth(d),year:s.getYear(d)}]),h=B=>{const M={hours:s.getHours(d),minutes:s.getMinutes(d),seconds:0};return a.value.enabled?[M[B],M[B]]:M[B]},O=e.reactive({hours:h("hours"),minutes:h("minutes"),seconds:h("seconds")});e.watch(a,(B,M)=>{B.enabled!==M.enabled&&(O.hours=h("hours"),O.minutes=h("minutes"),O.seconds=h("seconds"))},{deep:!0});const k=e.computed({get:()=>t.internalModelValue,set:B=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",B)}}),g=e.computed(()=>B=>m.value[B]?m.value[B].month:0),C=e.computed(()=>B=>m.value[B]?m.value[B].year:0);return e.watch(k,(B,M)=>{o&&JSON.stringify(B??{})!==JSON.stringify(M??{})&&o()},{deep:!0}),{calendars:m,time:O,modelValue:k,month:g,year:C,today:d}},$r=(t,n)=>{const{defaultedMultiCalendars:o,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:d,defaultedTz:m,propDates:h,defaultedRange:O}=ke(n),{isDisabled:k}=qe(n),g=e.ref(null),C=e.ref(Re(new Date,m.value.timezone)),B=u=>{!u.current&&n.hideOffsetDates||(g.value=u.value)},M=()=>{g.value=null},J=u=>Array.isArray(t.value)&&O.value.enabled&&t.value[0]&&g.value?u?ve(g.value,t.value[0]):be(g.value,t.value[0]):!0,P=(u,w)=>{const I=()=>t.value?w?t.value[0]||null:t.value[1]:null,c=t.value&&Array.isArray(t.value)?I():null;return me(H(u.value),c)},W=u=>{const w=Array.isArray(t.value)?t.value[0]:null;return u?!be(g.value??null,w):!0},f=(u,w=!0)=>(O.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!u.current?!1:me(H(u.value),t.value[w?0:1]):O.value.enabled?P(u,w)&&W(w)||me(u.value,Array.isArray(t.value)?t.value[0]:null)&&J(w):!1,V=(u,w)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const I=me(u.value,g.value);return w?ve(t.value[0],u.value)&&I:be(t.value[0],u.value)&&I}return!1},R=u=>!t.value||n.hideOffsetDates&&!u.current?!1:O.value.enabled?n.modelAuto&&Array.isArray(t.value)?me(u.value,t.value[0]?t.value[0]:C.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(w=>me(w,u.value)):me(u.value,t.value?t.value:C.value),L=u=>{if(O.value.autoRange||n.weekPicker){if(g.value){if(n.hideOffsetDates&&!u.current)return!1;const w=s.addDays(g.value,+O.value.autoRange),I=ze(H(g.value),n.weekStart);return n.weekPicker?me(I[1],H(u.value)):me(w,H(u.value))}return!1}return!1},K=u=>{if(O.value.autoRange||n.weekPicker){if(g.value){const w=s.addDays(g.value,+O.value.autoRange);if(n.hideOffsetDates&&!u.current)return!1;const I=ze(H(g.value),n.weekStart);return n.weekPicker?ve(u.value,I[0])&&be(u.value,I[1]):ve(u.value,g.value)&&be(u.value,w)}return!1}return!1},ne=u=>{if(O.value.autoRange||n.weekPicker){if(g.value){if(n.hideOffsetDates&&!u.current)return!1;const w=ze(H(g.value),n.weekStart);return n.weekPicker?me(w[0],u.value):me(g.value,u.value)}return!1}return!1},q=u=>ft(t.value,g.value,u.value),A=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,X=()=>n.modelAuto?un(n.internalModelValue):!0,N=u=>{if(n.weekPicker)return!1;const w=O.value.enabled?!f(u)&&!f(u,!1):!0;return!k(u.value)&&!R(u)&&!(!u.current&&n.hideOffsetDates)&&w},x=u=>O.value.enabled?n.modelAuto?A()&&R(u):!1:R(u),le=u=>d.value?Gn(u.value,h.value.highlight):!1,se=u=>{const w=k(u.value);return w&&(typeof d.value=="function"?!d.value(u.value,w):!d.value.options.highlightDisabled)},y=u=>{var w;return typeof d.value=="function"?d.value(u.value):(w=d.value.weekdays)==null?void 0:w.includes(u.value.getDay())},Y=u=>(O.value.enabled||n.weekPicker)&&(!(o.value.count>0)||u.current)&&X()&&!(!u.current&&n.hideOffsetDates)&&!R(u)?q(u):!1,te=u=>{const{isRangeStart:w,isRangeEnd:I}=b(u),c=O.value.enabled?w||I:!1;return{dp__cell_offset:!u.current,dp__pointer:!n.disabled&&!(!u.current&&n.hideOffsetDates)&&!k(u.value),dp__cell_disabled:k(u.value),dp__cell_highlight:!se(u)&&(le(u)||y(u))&&!x(u)&&!c&&!ne(u)&&!(Y(u)&&n.weekPicker)&&!I,dp__cell_highlight_active:!se(u)&&(le(u)||y(u))&&x(u),dp__today:!n.noToday&&me(u.value,C.value)&&u.current,"dp--past":be(u.value,C.value),"dp--future":ve(u.value,C.value)}},p=u=>({dp__active_date:x(u),dp__date_hover:N(u)}),j=u=>{if(t.value&&!Array.isArray(t.value)){const w=ze(t.value,n.weekStart);return{..._(u),dp__range_start:me(w[0],u.value),dp__range_end:me(w[1],u.value),dp__range_between_week:ve(u.value,w[0])&&be(u.value,w[1])}}return{..._(u)}},T=u=>{if(t.value&&Array.isArray(t.value)){const w=ze(t.value[0],n.weekStart),I=t.value[1]?ze(t.value[1],n.weekStart):[];return{..._(u),dp__range_start:me(w[0],u.value)||me(I[0],u.value),dp__range_end:me(w[1],u.value)||me(I[1],u.value),dp__range_between_week:ve(u.value,w[0])&&be(u.value,w[1])||ve(u.value,I[0])&&be(u.value,I[1]),dp__range_between:ve(u.value,w[1])&&be(u.value,I[0])}}return{..._(u)}},b=u=>{const w=o.value.count>0?u.current&&f(u)&&X():f(u)&&X(),I=o.value.count>0?u.current&&f(u,!1)&&X():f(u,!1)&&X();return{isRangeStart:w,isRangeEnd:I}},ee=u=>{const{isRangeStart:w,isRangeEnd:I}=b(u);return{dp__range_start:w,dp__range_end:I,dp__range_between:Y(u),dp__date_hover:me(u.value,g.value)&&!w&&!I&&!n.weekPicker,dp__date_hover_start:V(u,!0),dp__date_hover_end:V(u,!1)}},_=u=>({...ee(u),dp__cell_auto_range:K(u),dp__cell_auto_range_start:ne(u),dp__cell_auto_range_end:L(u)}),D=u=>O.value.enabled?O.value.autoRange?_(u):n.modelAuto?{...p(u),...ee(u)}:n.weekPicker?T(u):ee(u):n.weekPicker?j(u):p(u);return{setHoverDate:B,clearHoverDate:M,getDayClassData:u=>n.hideOffsetDates&&!u.current?{}:{...te(u),...D(u),[n.dayClass?n.dayClass(u.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},qe=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:a,defaultedMultiDates:r}=ke(t),d=y=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(H(y)):!!dt(y,a.value.disabledDates):!1,m=y=>a.value.maxDate?t.yearPicker?s.getYear(y)>s.getYear(a.value.maxDate):ve(y,a.value.maxDate):!1,h=y=>a.value.minDate?t.yearPicker?s.getYear(y)<s.getYear(a.value.minDate):be(y,a.value.minDate):!1,O=y=>{const Y=m(y),te=h(y),p=d(y),T=n.value.months.map(Q=>+Q).includes(s.getMonth(y)),b=t.disabledWeekDays.length?t.disabledWeekDays.some(Q=>+Q===s.getDay(y)):!1,ee=M(y),_=s.getYear(y),D=_<+t.yearRange[0]||_>+t.yearRange[1];return!(Y||te||p||T||D||b||ee)},k=(y,Y)=>be(...je(a.value.minDate,y,Y))||me(...je(a.value.minDate,y,Y)),g=(y,Y)=>ve(...je(a.value.maxDate,y,Y))||me(...je(a.value.maxDate,y,Y)),C=(y,Y,te)=>{let p=!1;return a.value.maxDate&&te&&g(y,Y)&&(p=!0),a.value.minDate&&!te&&k(y,Y)&&(p=!0),p},B=(y,Y,te,p)=>{let j=!1;return p&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?j=C(y,Y,te):(a.value.minDate&&k(y,Y)||a.value.maxDate&&g(y,Y))&&(j=!0):j=!0,j},M=y=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!dt(y,a.value.allowedDates):!1,J=y=>!O(y),P=y=>o.value.noDisabledRange?!s.eachDayOfInterval({start:y[0],end:y[1]}).some(te=>J(te)):!0,W=y=>{if(y){const Y=s.getYear(y);return Y>=+t.yearRange[0]&&Y<=t.yearRange[1]}return!0},f=(y,Y)=>!!(Array.isArray(y)&&y[Y]&&(o.value.maxRange||o.value.minRange)&&W(y[Y])),V=(y,Y,te=0)=>{if(f(Y,te)&&W(y)){const p=s.differenceInCalendarDays(y,Y[te]),j=kn(Y[te],y),T=j.length===1?0:j.filter(ee=>J(ee)).length,b=Math.abs(p)-(o.value.minMaxRawRange?0:T);if(o.value.minRange&&o.value.maxRange)return b>=+o.value.minRange&&b<=+o.value.maxRange;if(o.value.minRange)return b>=+o.value.minRange;if(o.value.maxRange)return b<=+o.value.maxRange}return!0},R=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,L=y=>Array.isArray(y)?[y[0]?zt(y[0]):null,y[1]?zt(y[1]):null]:zt(y),K=(y,Y,te)=>y.find(p=>+p.hours===s.getHours(Y)&&p.minutes==="*"?!0:+p.minutes===s.getMinutes(Y)&&+p.hours===s.getHours(Y))&&te,ne=(y,Y,te)=>{const[p,j]=y,[T,b]=Y;return!K(p,T,te)&&!K(j,b,te)&&te},q=(y,Y)=>{const te=Array.isArray(Y)?Y:[Y];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ne(t.disabledTimes,te,y):!te.some(p=>K(t.disabledTimes,p,y)):y},A=(y,Y)=>{const te=Array.isArray(Y)?[Qe(Y[0]),Y[1]?Qe(Y[1]):void 0]:Qe(Y),p=!t.disabledTimes(te);return y&&p},X=(y,Y)=>t.disabledTimes?Array.isArray(t.disabledTimes)?q(Y,y):A(Y,y):Y,N=y=>{let Y=!0;if(!y||R())return!0;const te=!a.value.minDate&&!a.value.maxDate?L(y):y;return(t.maxTime||a.value.maxDate)&&(Y=Mn(t.maxTime,a.value.maxDate,"max",Me(te),Y)),(t.minTime||a.value.minDate)&&(Y=Mn(t.minTime,a.value.minDate,"min",Me(te),Y)),X(y,Y)},x=y=>{if(!t.monthPicker)return!0;let Y=!0;const te=H(Ve(y));if(a.value.minDate&&a.value.maxDate){const p=H(Ve(a.value.minDate)),j=H(Ve(a.value.maxDate));return ve(te,p)&&be(te,j)||me(te,p)||me(te,j)}if(a.value.minDate){const p=H(Ve(a.value.minDate));Y=ve(te,p)||me(te,p)}if(a.value.maxDate){const p=H(Ve(a.value.maxDate));Y=be(te,p)||me(te,p)}return Y},le=e.computed(()=>y=>!t.enableTimePicker||t.ignoreTimeValidation?!0:N(y)),se=e.computed(()=>y=>t.monthPicker?Array.isArray(y)&&(o.value.enabled||r.value.enabled)?!y.filter(te=>!x(te)).length:x(y):!0);return{isDisabled:J,validateDate:O,validateMonthYearInRange:B,isDateRangeAllowed:P,checkMinMaxRange:V,isValidTime:N,isTimeValid:le,isMonthValid:se}},kt=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),o=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},Ar=(t,n,o)=>{const a=e.ref(0),r=e.reactive({[Ge.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ge.calendar]:!1,[Ge.header]:!1}),d=e.computed(()=>t.monthPicker||t.timePicker),m=C=>{var B;if((B=t.flow)!=null&&B.length){if(!C&&d.value)return g();r[C]=!0,Object.keys(r).filter(M=>!r[M]).length||g()}},h=()=>{var C,B;(C=t.flow)!=null&&C.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),g()),((B=t.flow)==null?void 0:B.length)===a.value&&e.nextTick().then(()=>O())},O=()=>{a.value=-1},k=(C,B,...M)=>{var J,P;t.flow[a.value]===C&&o.value&&((P=(J=o.value)[B])==null||P.call(J,...M))},g=(C=0)=>{C&&(a.value+=C),k(Ce.month,"toggleMonthPicker",!0),k(Ce.year,"toggleYearPicker",!0),k(Ce.calendar,"toggleTimePicker",!1,!0),k(Ce.time,"toggleTimePicker",!0,!0);const B=t.flow[a.value];(B===Ce.hours||B===Ce.minutes||B===Ce.seconds)&&k(B,"toggleTimePicker",!0,!0,B)};return{childMount:m,updateFlowStep:h,resetFlow:O,handleFlow:g,flowStep:a}},Pr={key:1,class:"dp__input_wrap"},Rr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Nr={key:2,class:"dp--clear-btn"},Er=["aria-label"],Or=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...gt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:o}){const a=o,r=t,{defaultedTextInput:d,defaultedAriaLabels:m,defaultedInline:h,defaultedConfig:O,defaultedRange:k,defaultedMultiDates:g,defaultedUI:C,getDefaultPattern:B,getDefaultStartTime:M}=ke(r),{checkMinMaxRange:J}=qe(r),P=e.ref(),W=e.ref(null),f=e.ref(!1),V=e.ref(!1),R=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!d.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!d.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:f.value||r.isMenuOpen,dp__input_reg:!d.value.enabled,...C.value.input??{}})),L=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),P.value=null)},K=b=>{const ee=M();return Qn(b,d.value.format??B(),ee??bn({},r.enableSeconds),r.inputValue,V.value,r.formatLocale)},ne=b=>{const{rangeSeparator:ee}=d.value,[_,D]=b.split(`${ee}`);if(_){const Q=K(_.trim()),u=D?K(D.trim()):null;if(s.isAfter(Q,u))return;const w=Q&&u?[Q,u]:[Q];J(u,w,0)&&(P.value=Q?w:null)}},q=()=>{V.value=!0},A=b=>{if(k.value.enabled)ne(b);else if(g.value.enabled){const ee=b.split(";");P.value=ee.map(_=>K(_.trim())).filter(_=>_)}else P.value=K(b)},X=b=>{var _;const ee=typeof b=="string"?b:(_=b.target)==null?void 0:_.value;ee!==""?(d.value.openMenu&&!r.isMenuOpen&&a("open"),A(ee),a("set-input-date",P.value)):L(),V.value=!1,a("update:input-value",ee),a("text-input",b,P.value)},N=b=>{d.value.enabled?(A(b.target.value),d.value.enterSubmit&&Vt(P.value)&&r.inputValue!==""?(a("set-input-date",P.value,!0),P.value=null):d.value.enterSubmit&&r.inputValue===""&&(P.value=null,a("clear"))):se(b)},x=(b,ee)=>{d.value.enabled&&d.value.tabSubmit&&!ee&&A(b.target.value),d.value.tabSubmit&&Vt(P.value)&&r.inputValue!==""?(a("set-input-date",P.value,!0,!0),P.value=null):d.value.tabSubmit&&r.inputValue===""&&(P.value=null,a("clear",!0))},le=()=>{f.value=!0,a("focus"),e.nextTick().then(()=>{var b;d.value.enabled&&d.value.selectOnFocus&&((b=W.value)==null||b.select())})},se=b=>{if(Ue(b,O.value,!0),d.value.enabled&&d.value.openMenu&&!h.value.input){if(d.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(d.value.openMenu==="toggle")return a("toggle")}else d.value.enabled||a("toggle")},y=()=>{a("real-blur"),f.value=!1,(!r.isMenuOpen||h.value.enabled&&h.value.input)&&a("blur"),r.autoApply&&d.value.enabled&&P.value&&!r.isMenuOpen&&(a("set-input-date",P.value),a("select-date"),P.value=null)},Y=b=>{Ue(b,O.value,!0),a("clear")},te=b=>{if(b.key==="Tab"&&x(b),b.key==="Enter"&&N(b),!d.value.enabled){if(b.code==="Tab")return;b.preventDefault()}},p=()=>{var b;(b=W.value)==null||b.focus({preventScroll:!0})},j=b=>{P.value=b},T=b=>{b.key===ye.tab&&x(b,!0)};return n({focusInput:p,setParsedDate:j}),(b,ee)=>{var _,D,Q;return e.openBlock(),e.createElementBlock("div",{onClick:se},[b.$slots.trigger&&!b.$slots["dp-input"]&&!e.unref(h).enabled?e.renderSlot(b.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!b.$slots.trigger&&(!e.unref(h).enabled||e.unref(h).input)?(e.openBlock(),e.createElementBlock("div",Pr,[b.$slots["dp-input"]&&!b.$slots.trigger&&(!e.unref(h).enabled||e.unref(h).enabled&&e.unref(h).input)?e.renderSlot(b.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:X,onEnter:N,onTab:x,onClear:Y,onBlur:y,onKeypress:te,onPaste:q,onFocus:le,openMenu:()=>b.$emit("open"),closeMenu:()=>b.$emit("close"),toggleMenu:()=>b.$emit("toggle")}):e.createCommentVNode("",!0),b.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:b.uid?`dp-input-${b.uid}`:void 0,ref_key:"inputRef",ref:W,"data-test-id":"dp-input",name:b.name,class:e.normalizeClass(R.value),inputmode:e.unref(d).enabled?"text":"none",placeholder:b.placeholder,disabled:b.disabled,readonly:b.readonly,required:b.required,value:t.inputValue,autocomplete:b.autocomplete,"aria-label":(_=e.unref(m))==null?void 0:_.input,"aria-disabled":b.disabled||void 0,"aria-invalid":b.state===!1?!0:void 0,onInput:X,onBlur:y,onFocus:le,onKeypress:te,onKeydown:ee[0]||(ee[0]=u=>te(u)),onPaste:q},null,42,Rr)),e.createElementVNode("div",{onClick:ee[3]||(ee[3]=u=>a("toggle"))},[b.$slots["input-icon"]&&!b.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:ee[1]||(ee[1]=u=>a("toggle"))},[e.renderSlot(b.$slots,"input-icon")])):e.createCommentVNode("",!0),!b.$slots["input-icon"]&&!b.hideInputIcon&&!b.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Je),{key:1,"aria-label":(D=e.unref(m))==null?void 0:D.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:ee[2]||(ee[2]=u=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),b.$slots["clear-icon"]&&t.inputValue&&b.clearable&&!b.disabled&&!b.readonly?(e.openBlock(),e.createElementBlock("span",Nr,[e.renderSlot(b.$slots,"clear-icon",{clear:Y})])):e.createCommentVNode("",!0),b.clearable&&!b.$slots["clear-icon"]&&t.inputValue&&!b.disabled&&!b.readonly?(e.openBlock(),e.createElementBlock("button",{key:3,"aria-label":(Q=e.unref(m))==null?void 0:Q.clearInput,class:"dp--clear-btn",type:"button",onKeydown:ee[4]||(ee[4]=u=>e.unref(Ae)(u,()=>Y(u),!0,T)),onClick:ee[5]||(ee[5]=e.withModifiers(u=>Y(u),["prevent"]))},[e.createVNode(e.unref(ln),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,Er)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Yr=typeof window<"u"?window:void 0,Gt=()=>{},Vr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,_r=(t,n,o,a)=>{if(!t)return Gt;let r=Gt;const d=e.watch(()=>e.unref(t),h=>{r(),h&&(h.addEventListener(n,o,a),r=()=>{h.removeEventListener(n,o,a),r=Gt})},{immediate:!0,flush:"post"}),m=()=>{d(),r()};return Vr(m),m},Ir=(t,n,o,a={})=>{const{window:r=Yr,event:d="pointerdown"}=a;return r?_r(r,d,h=>{const O=De(t),k=De(n);!O||!k||O===h.target||h.composedPath().includes(O)||h.composedPath().includes(k)||o(h)},{passive:!0}):void 0},zr=["data-dp-mobile"],Lr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...gt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","hover-day","range-hovering","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:o}){const a=o,r=t,d=e.useSlots(),m=e.ref(!1),h=e.toRef(r,"modelValue"),O=e.toRef(r,"timezone"),k=e.ref(null),g=e.ref(null),C=e.ref(null),B=e.ref(!1),M=e.ref(null),J=e.ref(!1),P=e.ref(!1),W=e.ref(!1),f=e.ref(!1),{setMenuFocused:V,setShiftKey:R}=Bn(),{clearArrowNav:L}=Ke(),{validateDate:K,isValidTime:ne}=qe(r),{defaultedTransitions:q,defaultedTextInput:A,defaultedInline:X,defaultedConfig:N,defaultedRange:x,defaultedMultiDates:le}=ke(r),{menuTransition:se,showTransition:y}=ot(q),{isMobile:Y}=Yn(N);e.onMounted(()=>{w(r.modelValue),e.nextTick().then(()=>{if(!X.value.enabled){const i=_(M.value);i==null||i.addEventListener("scroll",E),window==null||window.addEventListener("resize",F)}}),X.value.enabled&&(m.value=!0),window==null||window.addEventListener("keyup",G),window==null||window.addEventListener("keydown",ae)}),e.onUnmounted(()=>{if(!X.value.enabled){const i=_(M.value);i==null||i.removeEventListener("scroll",E),window==null||window.removeEventListener("resize",F)}window==null||window.removeEventListener("keyup",G),window==null||window.removeEventListener("keydown",ae)});const te=Ne(d,"all",r.presetDates),p=Ne(d,"input");e.watch([h,O],()=>{w(h.value)},{deep:!0});const{openOnTop:j,menuStyle:T,xCorrect:b,setMenuPosition:ee,getScrollableParent:_,shadowRender:D}=Br({menuRef:k,menuRefInner:g,inputRef:C,pickerWrapperRef:M,inline:X,emit:a,props:r,slots:d}),{inputValue:Q,internalModelValue:u,parseExternalModelValue:w,emitModelValue:I,formatInputValue:c,checkBeforeEmit:Z}=va(a,r,B),ie=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":W.value,dp__flex_display_with_input:X.value.input})),$=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),ce=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||X.value.enabled}:{}),oe=e.computed(()=>({class:"dp__outer_menu_wrap"})),ge=e.computed(()=>X.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),l=()=>{var i,S;return((S=(i=C.value)==null?void 0:i.$el)==null?void 0:S.getBoundingClientRect())??{width:0,left:0,right:0}},E=()=>{m.value&&(N.value.closeOnScroll?Be():ee())},F=()=>{var S;m.value&&ee();const i=((S=g.value)==null?void 0:S.$el.getBoundingClientRect().width)??0;W.value=document.body.offsetWidth<=i},G=i=>{i.key==="Tab"&&!X.value.enabled&&!r.teleport&&N.value.tabOutClosesMenu&&(M.value.contains(document.activeElement)||Be()),P.value=i.shiftKey},ae=i=>{P.value=i.shiftKey},de=()=>{!r.disabled&&!r.readonly&&(D(Vn,r),ee(!1),m.value=!0,m.value&&a("open"),m.value||He(),w(r.modelValue))},v=()=>{var i;Q.value="",He(),(i=C.value)==null||i.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),N.value.closeOnClearValue&&Be()},z=()=>{const i=u.value;return!i||!Array.isArray(i)&&K(i)?!0:Array.isArray(i)?le.value.enabled||i.length===2&&K(i[0])&&K(i[1])?!0:x.value.partialRange&&!r.timePicker?K(i[0]):!1:!1},ue=()=>{Z()&&z()?(I(),Be()):a("invalid-select",u.value)},Se=i=>{Ie(),I(),N.value.closeOnAutoApply&&!i&&Be()},Ie=()=>{C.value&&A.value.enabled&&C.value.setParsedDate(u.value)},re=(i=!1)=>{r.autoApply&&ne(u.value)&&z()&&(x.value.enabled&&Array.isArray(u.value)?(x.value.partialRange||u.value.length===2)&&Se(i):Se(i))},He=()=>{A.value.enabled||(u.value=null)},Be=(i=!1)=>{i&&u.value&&N.value.setDateOnMenuClose&&ue(),X.value.enabled||(m.value&&(m.value=!1,b.value=!1,V(!1),R(!1),L(),a("closed"),Q.value&&w(h.value)),He(),a("blur"))},bt=(i,S,U=!1)=>{if(!i){u.value=null;return}const fe=Array.isArray(i)?!i.some(Ee=>!K(Ee)):K(i),pe=ne(i);fe&&pe?(f.value=!0,u.value=i,S&&(J.value=U,ue(),a("text-submit")),e.nextTick().then(()=>{f.value=!1})):a("invalid-date",i)},it=()=>{r.autoApply&&ne(u.value)&&I(),Ie()},vt=()=>m.value?Be():de(),Xt=i=>{u.value=i},Jt=()=>{A.value.enabled&&(B.value=!0,c()),a("focus")},Zt=()=>{if(A.value.enabled&&(B.value=!1,w(r.modelValue),J.value)){const i=qn(M.value,P.value);i==null||i.focus()}a("blur")},Ft=i=>{g.value&&g.value.updateMonthYear(0,{month:cn(i.month),year:cn(i.year)})},en=i=>{w(i??r.modelValue)},tn=(i,S)=>{var U;(U=g.value)==null||U.switchView(i,S)},nn=i=>N.value.onClickOutside?N.value.onClickOutside(i):Be(!0),_n=(i=0)=>{var S;(S=g.value)==null||S.handleFlow(i)};return Ir(k,C,()=>nn(z)),n({closeMenu:Be,selectDate:ue,clearValue:v,openMenu:de,onScroll:E,formatInputValue:c,updateInternalModelValue:Xt,setMonthYear:Ft,parseModel:en,switchView:tn,toggleMenu:vt,handleFlow:_n,dpWrapMenuRef:k}),(i,S)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:M,class:e.normalizeClass(ie.value),"data-datepicker-instance":"","data-dp-mobile":e.unref(Y)},[e.createVNode(Or,e.mergeProps({ref_key:"inputRef",ref:C,"input-value":e.unref(Q),"onUpdate:inputValue":S[0]||(S[0]=U=>e.isRef(Q)?Q.value=U:null),"is-menu-open":m.value},i.$props,{onClear:v,onOpen:de,onSetInputDate:bt,onSetEmptyDate:e.unref(I),onSelectDate:ue,onToggle:vt,onClose:Be,onFocus:Jt,onBlur:Zt,onRealBlur:S[1]||(S[1]=U=>B.value=!1),onTextInput:S[2]||(S[2]=U=>i.$emit("text-input",U))}),e.createSlots({_:2},[e.renderList(e.unref(p),(U,fe)=>({name:U,fn:e.withCtx(pe=>[e.renderSlot(i.$slots,U,e.normalizeProps(e.guardReactiveProps(pe)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(ce.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(se)(e.unref(j)),css:e.unref(y)&&!e.unref(X).enabled},{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:k},oe.value,{class:{"dp--menu-wrapper":!e.unref(X).enabled},style:e.unref(X).enabled?void 0:e.unref(T)}),[e.createVNode(Vn,e.mergeProps({ref_key:"dpMenuRef",ref:g},i.$props,{"internal-model-value":e.unref(u),"onUpdate:internalModelValue":S[3]||(S[3]=U=>e.isRef(u)?u.value=U:null),class:{[$.value]:!0,"dp--menu-wrapper":i.teleport},"open-on-top":e.unref(j),"no-overlay-focus":ge.value,collapse:W.value,"get-input-rect":l,"is-text-input-date":f.value,onClosePicker:Be,onSelectDate:ue,onAutoApply:re,onTimeUpdate:it,onFlowStep:S[4]||(S[4]=U=>i.$emit("flow-step",U)),onUpdateMonthYear:S[5]||(S[5]=U=>i.$emit("update-month-year",U)),onInvalidSelect:S[6]||(S[6]=U=>i.$emit("invalid-select",e.unref(u))),onAutoApplyInvalid:S[7]||(S[7]=U=>i.$emit("invalid-select",U)),onInvalidFixedRange:S[8]||(S[8]=U=>i.$emit("invalid-fixed-range",U)),onRecalculatePosition:e.unref(ee),onTooltipOpen:S[9]||(S[9]=U=>i.$emit("tooltip-open",U)),onTooltipClose:S[10]||(S[10]=U=>i.$emit("tooltip-close",U)),onTimePickerOpen:S[11]||(S[11]=U=>i.$emit("time-picker-open",U)),onTimePickerClose:S[12]||(S[12]=U=>i.$emit("time-picker-close",U)),onAmPmChange:S[13]||(S[13]=U=>i.$emit("am-pm-change",U)),onRangeStart:S[14]||(S[14]=U=>i.$emit("range-start",U)),onRangeHovering:S[15]||(S[15]=U=>i.$emit("range-hovering",U)),onRangeEnd:S[16]||(S[16]=U=>i.$emit("range-end",U)),onDateUpdate:S[17]||(S[17]=U=>i.$emit("date-update",U)),onHoverDay:S[18]||(S[18]=U=>i.$emit("hover-day",U)),onInvalidDate:S[19]||(S[19]=U=>i.$emit("invalid-date",U)),onOverlayToggle:S[20]||(S[20]=U=>i.$emit("overlay-toggle",U)),onMenuBlur:S[21]||(S[21]=U=>i.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(te),(U,fe)=>({name:U,fn:e.withCtx(pe=>[e.renderSlot(i.$slots,U,e.normalizeProps(e.guardReactiveProps({...pe})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,zr))}}),Qt=(()=>{const t=Lr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Qt[t]=n)}),Qt});
